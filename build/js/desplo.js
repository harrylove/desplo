(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&o>i;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=d(e,i,4);var o=!w(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=b(r,e);for(var u=null!=t&&t.length,i=n>0?0:u-1;i>=0&&u>i;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t){var r=S.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||o,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)i=S[r],i in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var e=this,u=e._,i=Array.prototype,o=Object.prototype,a=Function.prototype,c=i.push,l=i.slice,f=o.toString,s=o.hasOwnProperty,p=Array.isArray,h=Object.keys,v=a.bind,g=Object.create,y=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):e._=m,m.VERSION="1.8.2";var d=function(n,t,r){if(void 0===t)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},b=function(n,t,r){return null==n?m.identity:m.isFunction(n)?d(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return b(n,t,1/0)};var x=function(n,t){return function(r){var e=arguments.length;if(2>e||null==r)return r;for(var u=1;e>u;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;a>c;c++){var l=o[c];t&&void 0!==r[l]||(r[l]=i[l])}return r}},_=function(n){if(!m.isObject(n))return{};if(g)return g(n);y.prototype=n;var t=new y;return y.prototype=null,t},j=Math.pow(2,53)-1,w=function(n){var t=n&&n.length;return"number"==typeof t&&t>=0&&j>=t};m.each=m.forEach=function(n,t,r){t=d(t,r);var e,u;if(w(n))for(e=0,u=n.length;u>e;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;u>e;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=b(t,r);for(var e=!w(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;u>o;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;return e=w(n)?m.findIndex(n,t,r):m.findKey(n,t,r),void 0!==e&&-1!==e?n[e]:void 0},m.filter=m.select=function(n,t,r){var e=[];return t=b(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(b(t)),r)},m.every=m.all=function(n,t,r){t=b(t,r);for(var e=!w(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=b(t,r);for(var e=!w(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r){return w(n)||(n=m.values(n)),m.indexOf(n,t,"number"==typeof r&&r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-1/0,o=-1/0;if(null==t&&null!=n){n=w(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],e>i&&(i=e)}else t=b(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=w(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],i>e&&(i=e)}else t=b(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(o>u||1/0===u&&1/0===i)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=w(n)?n:m.values(n),e=r.length,u=Array(e),i=0;e>i;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(w(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=b(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index-t.index}),"value")};var A=function(n){return function(t,r,e){var u={};return r=b(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=A(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=A(function(n,t,r){n[r]=t}),m.countBy=A(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):w(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:w(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=b(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var k=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=n&&n.length;a>o;o++){var c=n[o];if(w(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=k(c,t,r));var l=0,f=c.length;for(u.length+=f;f>l;)u[i++]=c[l++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return k(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){if(null==n)return[];m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=b(r,e));for(var u=[],i=[],o=0,a=n.length;a>o;o++){var c=n[o],l=r?r(c,o,n):c;t?(o&&i===l||u.push(c),i=l):r?m.contains(i,l)||(i.push(l),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(k(arguments,!0,!0))},m.intersection=function(n){if(null==n)return[];for(var t=[],r=arguments.length,e=0,u=n.length;u>e;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;r>o&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=k(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,"length").length||0,r=Array(t),e=0;t>e;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=n&&n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.indexOf=function(n,t,r){var e=0,u=n&&n.length;if("number"==typeof r)e=0>r?Math.max(0,u+r):r;else if(r&&u)return e=m.sortedIndex(n,t),n[e]===t?e:-1;if(t!==t)return m.findIndex(l.call(n,e),m.isNaN);for(;u>e;e++)if(n[e]===t)return e;return-1},m.lastIndexOf=function(n,t,r){var e=n?n.length:0;if("number"==typeof r&&(e=0>r?e+r+1:Math.min(e,r+1)),t!==t)return m.findLastIndex(l.call(n,0,e),m.isNaN);for(;--e>=0;)if(n[e]===t)return e;return-1},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=b(r,e,1);for(var u=r(t),i=0,o=n.length;o>i;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;e>i;i++,n+=r)u[i]=n;return u};var O=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=_(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(v&&n.bind===v)return v.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return O(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;u>o;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return O(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(1>=e)throw new Error("bindAll must be passed function names");for(t=1;e>t;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var l=m.now();a||r.leading!==!1||(a=l);var f=t-(l-a);return e=this,u=arguments,0>=f||f>t?(o&&(clearTimeout(o),o=null),a=l,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,f)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var l=m.now()-o;t>l&&l>=0?e=setTimeout(c,t-l):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var l=r&&!e;return e||(e=setTimeout(c,t)),l&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}},m.once=m.partial(m.before,2);var F=!{toString:null}.propertyIsEnumerable("toString"),S=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(h)return h(n);var t=[];for(var e in n)m.has(n,e)&&t.push(e);return F&&r(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var e in n)t.push(e);return F&&r(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=b(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;i>a;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=x(m.allKeys),m.extendOwn=m.assign=x(m.keys),m.findKey=function(n,t,r){t=b(t,r);for(var e,u=m.keys(n),i=0,o=u.length;o>i;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=d(t,r)):(u=k(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;c>a;a++){var l=u[a],f=o[l];e(f,l,o)&&(i[l]=f)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(k(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=x(m.allKeys,!0),m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;e>i;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var E=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=f.call(n);if(u!==f.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!E(n[c],t[c],r,e))return!1}else{var l,s=m.keys(n);if(c=s.length,m.keys(t).length!==c)return!1;for(;c--;)if(l=s[c],!m.has(t,l)||!E(n[l],t[l],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return E(n,t)},m.isEmpty=function(n){return null==n?!0:w(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=p||function(n){return"[object Array]"===f.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return f.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===f.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return void 0===n},m.has=function(n,t){return null!=n&&s.call(n,t)},m.noConflict=function(){return e._=u,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=function(n){return function(t){return null==t?void 0:t[n]}},m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=d(t,r,1);for(var u=0;n>u;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N=m.invert(M),I=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=I(M),m.unescape=I(N),m.result=function(n,t,r){var e=null==n?void 0:n[t];return void 0===e&&(e=r),m.isFunction(e)?e.call(n):e};var B=0;m.uniqueId=function(n){var t=++B+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var T=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\u2028|\u2029/g,K=function(n){return"\\"+R[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||T).source,(t.interpolate||T).source,(t.evaluate||T).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(q,K),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(a){throw a.source=i,a}var c=function(n){return o.call(this,n,m)},l=t.variable||"obj";return c.source="function("+l+"){\n"+i+"}",c},m.chain=function(n){var t=m(n);return t._chain=!0,t};var z=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return c.apply(n,arguments),z(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=i[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],z(this,r)}}),m.each(["concat","join","slice"],function(n){var t=i[n];m.prototype[n]=function(){return z(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);
var d,desploing=!1,desploAnim,container=document.getElementById("desploContainer"),url=document.getElementById("url"),load=document.getElementById("load"),colors=["red","cyan","blue","green","yellow","black","white","orange","purple"],m={x:0,y:0},dContent=["DESPLO","desplo","DeSpLo","dEsPlO","DES PLO","DES plo","des PLO","desplO","DEsplo","deSPLO","SPLO des?","desdessplo"];document.addEventListener("mousemove",function(e){m.x=e.pageX-container.offsetLeft,m.y=e.pageY-container.offsetTop});var getStyle=function(){var e=_.random(-7,7)+"px "+_.random(-7,7)+"px "+_.random(-7,7)+"px "+colors[_.random(colors.length-1)];return{left:m.x+"px",top:m.y+"px",color:colors[_.random(colors.length-1)],fontSize:_.random(6,42)+"px",opacity:Math.random(),textShadow:e}},desplo=function(){desploAnim=window.requestAnimationFrame(function(){d=document.createElement("div"),d.className="desplo",d.innerHTML=dContent[_.random(dContent.length-1)],d.style=_.extend(d.style,getStyle()),container.appendChild(d),desplo()})};document.addEventListener("keyup",function(e){68===e.keyCode&&desploAnim&&(window.cancelAnimationFrame(desploAnim),desploing=!1)}),document.addEventListener("keydown",function(e){68!==e.keyCode||desploing||(desploing=!0,desplo())}),document.getElementById("getUrl").addEventListener("submit",function(e){e.preventDefault(),url.value.length&&(load.src=url.value)}),document.getElementById("clear").addEventListener("click",function(e){e.preventDefault(),container.innerHTML=""});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVuZGVyc2NvcmUuanMiLCJkZXNwbG8uanMiXSwibmFtZXMiOlsiY3JlYXRlUmVkdWNlIiwiZGlyIiwiaXRlcmF0b3IiLCJvYmoiLCJpdGVyYXRlZSIsIm1lbW8iLCJrZXlzIiwiaW5kZXgiLCJsZW5ndGgiLCJjdXJyZW50S2V5IiwiY29udGV4dCIsIm9wdGltaXplQ2IiLCJpc0FycmF5TGlrZSIsIl8iLCJhcmd1bWVudHMiLCJjcmVhdGVJbmRleEZpbmRlciIsImFycmF5IiwicHJlZGljYXRlIiwiY2IiLCJjb2xsZWN0Tm9uRW51bVByb3BzIiwibm9uRW51bUlkeCIsIm5vbkVudW1lcmFibGVQcm9wcyIsImNvbnN0cnVjdG9yIiwicHJvdG8iLCJpc0Z1bmN0aW9uIiwicHJvdG90eXBlIiwiT2JqUHJvdG8iLCJwcm9wIiwiaGFzIiwiY29udGFpbnMiLCJwdXNoIiwicm9vdCIsInRoaXMiLCJwcmV2aW91c1VuZGVyc2NvcmUiLCJBcnJheVByb3RvIiwiQXJyYXkiLCJPYmplY3QiLCJGdW5jUHJvdG8iLCJGdW5jdGlvbiIsInNsaWNlIiwidG9TdHJpbmciLCJoYXNPd25Qcm9wZXJ0eSIsIm5hdGl2ZUlzQXJyYXkiLCJpc0FycmF5IiwibmF0aXZlS2V5cyIsIm5hdGl2ZUJpbmQiLCJiaW5kIiwibmF0aXZlQ3JlYXRlIiwiY3JlYXRlIiwiQ3RvciIsIl93cmFwcGVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIlZFUlNJT04iLCJmdW5jIiwiYXJnQ291bnQiLCJ2YWx1ZSIsImNhbGwiLCJvdGhlciIsImNvbGxlY3Rpb24iLCJhY2N1bXVsYXRvciIsImFwcGx5IiwiaWRlbnRpdHkiLCJpc09iamVjdCIsIm1hdGNoZXIiLCJwcm9wZXJ0eSIsIkluZmluaXR5IiwiY3JlYXRlQXNzaWduZXIiLCJrZXlzRnVuYyIsInVuZGVmaW5lZE9ubHkiLCJzb3VyY2UiLCJsIiwiaSIsImtleSIsImJhc2VDcmVhdGUiLCJyZXN1bHQiLCJNQVhfQVJSQVlfSU5ERVgiLCJNYXRoIiwicG93IiwiZWFjaCIsImZvckVhY2giLCJtYXAiLCJjb2xsZWN0IiwicmVzdWx0cyIsInJlZHVjZSIsImZvbGRsIiwiaW5qZWN0IiwicmVkdWNlUmlnaHQiLCJmb2xkciIsImZpbmQiLCJkZXRlY3QiLCJmaW5kSW5kZXgiLCJmaW5kS2V5IiwiZmlsdGVyIiwic2VsZWN0IiwibGlzdCIsInJlamVjdCIsIm5lZ2F0ZSIsImV2ZXJ5IiwiYWxsIiwic29tZSIsImFueSIsImluY2x1ZGVzIiwiaW5jbHVkZSIsInRhcmdldCIsImZyb21JbmRleCIsInZhbHVlcyIsImluZGV4T2YiLCJpbnZva2UiLCJtZXRob2QiLCJhcmdzIiwiaXNGdW5jIiwicGx1Y2siLCJ3aGVyZSIsImF0dHJzIiwiZmluZFdoZXJlIiwibWF4IiwiY29tcHV0ZWQiLCJsYXN0Q29tcHV0ZWQiLCJtaW4iLCJzaHVmZmxlIiwicmFuZCIsInNldCIsInNodWZmbGVkIiwicmFuZG9tIiwic2FtcGxlIiwibiIsImd1YXJkIiwic29ydEJ5IiwiY3JpdGVyaWEiLCJzb3J0IiwibGVmdCIsInJpZ2h0IiwiYSIsImIiLCJncm91cCIsImJlaGF2aW9yIiwiZ3JvdXBCeSIsImluZGV4QnkiLCJjb3VudEJ5IiwidG9BcnJheSIsInNpemUiLCJwYXJ0aXRpb24iLCJwYXNzIiwiZmFpbCIsImZpcnN0IiwiaGVhZCIsInRha2UiLCJpbml0aWFsIiwibGFzdCIsInJlc3QiLCJ0YWlsIiwiZHJvcCIsImNvbXBhY3QiLCJmbGF0dGVuIiwiaW5wdXQiLCJzaGFsbG93Iiwic3RyaWN0Iiwic3RhcnRJbmRleCIsIm91dHB1dCIsImlkeCIsImlzQXJndW1lbnRzIiwiaiIsImxlbiIsIndpdGhvdXQiLCJkaWZmZXJlbmNlIiwidW5pcSIsInVuaXF1ZSIsImlzU29ydGVkIiwiaXNCb29sZWFuIiwic2VlbiIsInVuaW9uIiwiaW50ZXJzZWN0aW9uIiwiYXJnc0xlbmd0aCIsIml0ZW0iLCJ6aXAiLCJ1bnppcCIsIm9iamVjdCIsInNvcnRlZEluZGV4IiwiaXNOYU4iLCJsYXN0SW5kZXhPZiIsImZyb20iLCJmaW5kTGFzdEluZGV4IiwibG93IiwiaGlnaCIsIm1pZCIsImZsb29yIiwicmFuZ2UiLCJzdGFydCIsInN0b3AiLCJzdGVwIiwiY2VpbCIsImV4ZWN1dGVCb3VuZCIsInNvdXJjZUZ1bmMiLCJib3VuZEZ1bmMiLCJjYWxsaW5nQ29udGV4dCIsInNlbGYiLCJUeXBlRXJyb3IiLCJib3VuZCIsImNvbmNhdCIsInBhcnRpYWwiLCJib3VuZEFyZ3MiLCJwb3NpdGlvbiIsImJpbmRBbGwiLCJFcnJvciIsIm1lbW9pemUiLCJoYXNoZXIiLCJjYWNoZSIsImFkZHJlc3MiLCJkZWxheSIsIndhaXQiLCJzZXRUaW1lb3V0IiwiZGVmZXIiLCJ0aHJvdHRsZSIsIm9wdGlvbnMiLCJ0aW1lb3V0IiwicHJldmlvdXMiLCJsYXRlciIsImxlYWRpbmciLCJub3ciLCJyZW1haW5pbmciLCJjbGVhclRpbWVvdXQiLCJ0cmFpbGluZyIsImRlYm91bmNlIiwiaW1tZWRpYXRlIiwidGltZXN0YW1wIiwiY2FsbE5vdyIsIndyYXAiLCJ3cmFwcGVyIiwiY29tcG9zZSIsImFmdGVyIiwidGltZXMiLCJiZWZvcmUiLCJvbmNlIiwiaGFzRW51bUJ1ZyIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiYWxsS2V5cyIsIm1hcE9iamVjdCIsInBhaXJzIiwiaW52ZXJ0IiwiZnVuY3Rpb25zIiwibWV0aG9kcyIsIm5hbWVzIiwiZXh0ZW5kIiwiZXh0ZW5kT3duIiwiYXNzaWduIiwicGljayIsIm9pdGVyYXRlZSIsIm9taXQiLCJTdHJpbmciLCJkZWZhdWx0cyIsImNsb25lIiwidGFwIiwiaW50ZXJjZXB0b3IiLCJpc01hdGNoIiwiZXEiLCJhU3RhY2siLCJiU3RhY2siLCJjbGFzc05hbWUiLCJhcmVBcnJheXMiLCJhQ3RvciIsImJDdG9yIiwicG9wIiwiaXNFcXVhbCIsImlzRW1wdHkiLCJpc1N0cmluZyIsImlzRWxlbWVudCIsIm5vZGVUeXBlIiwidHlwZSIsIm5hbWUiLCJJbnQ4QXJyYXkiLCJpc0Zpbml0ZSIsInBhcnNlRmxvYXQiLCJpc051bWJlciIsImlzTnVsbCIsImlzVW5kZWZpbmVkIiwibm9Db25mbGljdCIsImNvbnN0YW50Iiwibm9vcCIsInByb3BlcnR5T2YiLCJtYXRjaGVzIiwiYWNjdW0iLCJEYXRlIiwiZ2V0VGltZSIsImVzY2FwZU1hcCIsIiYiLCI8IiwiPiIsIlwiIiwiJyIsImAiLCJ1bmVzY2FwZU1hcCIsImNyZWF0ZUVzY2FwZXIiLCJlc2NhcGVyIiwibWF0Y2giLCJqb2luIiwidGVzdFJlZ2V4cCIsIlJlZ0V4cCIsInJlcGxhY2VSZWdleHAiLCJzdHJpbmciLCJ0ZXN0IiwicmVwbGFjZSIsImVzY2FwZSIsInVuZXNjYXBlIiwiZmFsbGJhY2siLCJpZENvdW50ZXIiLCJ1bmlxdWVJZCIsInByZWZpeCIsImlkIiwidGVtcGxhdGVTZXR0aW5ncyIsImV2YWx1YXRlIiwiaW50ZXJwb2xhdGUiLCJub01hdGNoIiwiZXNjYXBlcyIsIlxcIiwiXHIiLCJcbiIsIuKAqCIsIuKAqSIsImVzY2FwZUNoYXIiLCJ0ZW1wbGF0ZSIsInRleHQiLCJzZXR0aW5ncyIsIm9sZFNldHRpbmdzIiwib2Zmc2V0IiwidmFyaWFibGUiLCJyZW5kZXIiLCJlIiwiZGF0YSIsImFyZ3VtZW50IiwiY2hhaW4iLCJpbnN0YW5jZSIsIl9jaGFpbiIsIm1peGluIiwidmFsdWVPZiIsInRvSlNPTiIsImRlZmluZSIsImFtZCIsImQiLCJkZXNwbG9pbmciLCJkZXNwbG9BbmltIiwiY29udGFpbmVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInVybCIsImxvYWQiLCJjb2xvcnMiLCJtIiwieCIsInkiLCJkQ29udGVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJwYWdlWCIsIm9mZnNldExlZnQiLCJwYWdlWSIsIm9mZnNldFRvcCIsImdldFN0eWxlIiwic2hhZG93IiwidG9wIiwiY29sb3IiLCJmb250U2l6ZSIsIm9wYWNpdHkiLCJ0ZXh0U2hhZG93IiwiZGVzcGxvIiwid2luZG93IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInN0eWxlIiwiYXBwZW5kQ2hpbGQiLCJrZXlDb2RlIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJwcmV2ZW50RGVmYXVsdCIsInNyYyJdLCJtYXBwaW5ncyI6IkNBS0MsV0FvS0MsUUFBU0EsR0FBYUMsR0FHcEIsUUFBU0MsR0FBU0MsRUFBS0MsRUFBVUMsRUFBTUMsRUFBTUMsRUFBT0MsR0FDbEQsS0FBT0QsR0FBUyxHQUFhQyxFQUFSRCxFQUFnQkEsR0FBU04sRUFBSyxDQUNqRCxHQUFJUSxHQUFhSCxFQUFPQSxFQUFLQyxHQUFTQSxDQUN0Q0YsR0FBT0QsRUFBU0MsRUFBTUYsRUFBSU0sR0FBYUEsRUFBWU4sR0FFckQsTUFBT0UsR0FHVCxNQUFPLFVBQVNGLEVBQUtDLEVBQVVDLEVBQU1LLEdBQ25DTixFQUFXTyxFQUFXUCxFQUFVTSxFQUFTLEVBQ3pDLElBQUlKLElBQVFNLEVBQVlULElBQVFVLEVBQUVQLEtBQUtILEdBQ25DSyxHQUFVRixHQUFRSCxHQUFLSyxPQUN2QkQsRUFBUU4sRUFBTSxFQUFJLEVBQUlPLEVBQVMsQ0FNbkMsT0FKSU0sV0FBVU4sT0FBUyxJQUNyQkgsRUFBT0YsRUFBSUcsRUFBT0EsRUFBS0MsR0FBU0EsR0FDaENBLEdBQVNOLEdBRUpDLEVBQVNDLEVBQUtDLEVBQVVDLEVBQU1DLEVBQU1DLEVBQU9DLElBK2J0RCxRQUFTTyxHQUFrQmQsR0FDekIsTUFBTyxVQUFTZSxFQUFPQyxFQUFXUCxHQUNoQ08sRUFBWUMsRUFBR0QsRUFBV1AsRUFHMUIsS0FGQSxHQUFJRixHQUFrQixNQUFUUSxHQUFpQkEsRUFBTVIsT0FDaENELEVBQVFOLEVBQU0sRUFBSSxFQUFJTyxFQUFTLEVBQzVCRCxHQUFTLEdBQWFDLEVBQVJELEVBQWdCQSxHQUFTTixFQUM1QyxHQUFJZ0IsRUFBVUQsRUFBTVQsR0FBUUEsRUFBT1MsR0FBUSxNQUFPVCxFQUVwRCxPQUFPLElBZ1FYLFFBQVNZLEdBQW9CaEIsRUFBS0csR0FDaEMsR0FBSWMsR0FBYUMsRUFB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QjlCLGFBQzNCd0IsT0FBT08scUJBQXFCL0IsWUFDNUJELFdBQVksS0FJYkcsU0FBU1MsaUJBQWlCLFVBQVcsU0FBU3hCLEdBQ3hCLEtBQWRBLEVBQUUyQyxTQUFtQi9CLFlBQzVCQSxXQUFZLEVBQ1p3QixZQUlEckIsU0FBU0MsZUFBZSxVQUFVUSxpQkFBaUIsU0FBVSxTQUFTeEIsR0FDbEVBLEVBQUU2QyxpQkFDRTVCLElBQUloUyxNQUFNaEQsU0FDakJpVixLQUFLNEIsSUFBTTdCLElBQUloUyxTQUloQjhSLFNBQVNDLGVBQWUsU0FBU1EsaUJBQWlCLFFBQVMsU0FBU3hCLEdBQ2hFQSxFQUFFNkMsaUJBQ0YvQixVQUFVMEIsVUFBWSIsImZpbGUiOiJkZXNwbG8uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyAgICAgVW5kZXJzY29yZS5qcyAxLjguMlxuLy8gICAgIGh0dHA6Ly91bmRlcnNjb3JlanMub3JnXG4vLyAgICAgKGMpIDIwMDktMjAxNSBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuLy8gICAgIFVuZGVyc2NvcmUgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5cbihmdW5jdGlvbigpIHtcblxuICAvLyBCYXNlbGluZSBzZXR1cFxuICAvLyAtLS0tLS0tLS0tLS0tLVxuXG4gIC8vIEVzdGFibGlzaCB0aGUgcm9vdCBvYmplY3QsIGB3aW5kb3dgIGluIHRoZSBicm93c2VyLCBvciBgZXhwb3J0c2Agb24gdGhlIHNlcnZlci5cbiAgdmFyIHJvb3QgPSB0aGlzO1xuXG4gIC8vIFNhdmUgdGhlIHByZXZpb3VzIHZhbHVlIG9mIHRoZSBgX2AgdmFyaWFibGUuXG4gIHZhciBwcmV2aW91c1VuZGVyc2NvcmUgPSByb290Ll87XG5cbiAgLy8gU2F2ZSBieXRlcyBpbiB0aGUgbWluaWZpZWQgKGJ1dCBub3QgZ3ppcHBlZCkgdmVyc2lvbjpcbiAgdmFyIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsIE9ialByb3RvID0gT2JqZWN0LnByb3RvdHlwZSwgRnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuXG4gIC8vIENyZWF0ZSBxdWljayByZWZlcmVuY2UgdmFyaWFibGVzIGZvciBzcGVlZCBhY2Nlc3MgdG8gY29yZSBwcm90b3R5cGVzLlxuICB2YXJcbiAgICBwdXNoICAgICAgICAgICAgID0gQXJyYXlQcm90by5wdXNoLFxuICAgIHNsaWNlICAgICAgICAgICAgPSBBcnJheVByb3RvLnNsaWNlLFxuICAgIHRvU3RyaW5nICAgICAgICAgPSBPYmpQcm90by50b1N0cmluZyxcbiAgICBoYXNPd25Qcm9wZXJ0eSAgID0gT2JqUHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbiAgLy8gQWxsICoqRUNNQVNjcmlwdCA1KiogbmF0aXZlIGZ1bmN0aW9uIGltcGxlbWVudGF0aW9ucyB0aGF0IHdlIGhvcGUgdG8gdXNlXG4gIC8vIGFyZSBkZWNsYXJlZCBoZXJlLlxuICB2YXJcbiAgICBuYXRpdmVJc0FycmF5ICAgICAgPSBBcnJheS5pc0FycmF5LFxuICAgIG5hdGl2ZUtleXMgICAgICAgICA9IE9iamVjdC5rZXlzLFxuICAgIG5hdGl2ZUJpbmQgICAgICAgICA9IEZ1bmNQcm90by5iaW5kLFxuICAgIG5hdGl2ZUNyZWF0ZSAgICAgICA9IE9iamVjdC5jcmVhdGU7XG5cbiAgLy8gTmFrZWQgZnVuY3Rpb24gcmVmZXJlbmNlIGZvciBzdXJyb2dhdGUtcHJvdG90eXBlLXN3YXBwaW5nLlxuICB2YXIgQ3RvciA9IGZ1bmN0aW9uKCl7fTtcblxuICAvLyBDcmVhdGUgYSBzYWZlIHJlZmVyZW5jZSB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QgZm9yIHVzZSBiZWxvdy5cbiAgdmFyIF8gPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqIGluc3RhbmNlb2YgXykgcmV0dXJuIG9iajtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgXykpIHJldHVybiBuZXcgXyhvYmopO1xuICAgIHRoaXMuX3dyYXBwZWQgPSBvYmo7XG4gIH07XG5cbiAgLy8gRXhwb3J0IHRoZSBVbmRlcnNjb3JlIG9iamVjdCBmb3IgKipOb2RlLmpzKiosIHdpdGhcbiAgLy8gYmFja3dhcmRzLWNvbXBhdGliaWxpdHkgZm9yIHRoZSBvbGQgYHJlcXVpcmUoKWAgQVBJLiBJZiB3ZSdyZSBpblxuICAvLyB0aGUgYnJvd3NlciwgYWRkIGBfYCBhcyBhIGdsb2JhbCBvYmplY3QuXG4gIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF87XG4gICAgfVxuICAgIGV4cG9ydHMuXyA9IF87XG4gIH0gZWxzZSB7XG4gICAgcm9vdC5fID0gXztcbiAgfVxuXG4gIC8vIEN1cnJlbnQgdmVyc2lvbi5cbiAgXy5WRVJTSU9OID0gJzEuOC4yJztcblxuICAvLyBJbnRlcm5hbCBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gZWZmaWNpZW50IChmb3IgY3VycmVudCBlbmdpbmVzKSB2ZXJzaW9uXG4gIC8vIG9mIHRoZSBwYXNzZWQtaW4gY2FsbGJhY2ssIHRvIGJlIHJlcGVhdGVkbHkgYXBwbGllZCBpbiBvdGhlciBVbmRlcnNjb3JlXG4gIC8vIGZ1bmN0aW9ucy5cbiAgdmFyIG9wdGltaXplQ2IgPSBmdW5jdGlvbihmdW5jLCBjb250ZXh0LCBhcmdDb3VudCkge1xuICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHJldHVybiBmdW5jO1xuICAgIHN3aXRjaCAoYXJnQ291bnQgPT0gbnVsbCA/IDMgOiBhcmdDb3VudCkge1xuICAgICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCB2YWx1ZSk7XG4gICAgICB9O1xuICAgICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgdmFsdWUsIG90aGVyKTtcbiAgICAgIH07XG4gICAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgfTtcbiAgICAgIGNhc2UgNDogcmV0dXJuIGZ1bmN0aW9uKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCBhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBBIG1vc3RseS1pbnRlcm5hbCBmdW5jdGlvbiB0byBnZW5lcmF0ZSBjYWxsYmFja3MgdGhhdCBjYW4gYmUgYXBwbGllZFxuICAvLyB0byBlYWNoIGVsZW1lbnQgaW4gYSBjb2xsZWN0aW9uLCByZXR1cm5pbmcgdGhlIGRlc2lyZWQgcmVzdWx0IOKAlCBlaXRoZXJcbiAgLy8gaWRlbnRpdHksIGFuIGFyYml0cmFyeSBjYWxsYmFjaywgYSBwcm9wZXJ0eSBtYXRjaGVyLCBvciBhIHByb3BlcnR5IGFjY2Vzc29yLlxuICB2YXIgY2IgPSBmdW5jdGlvbih2YWx1ZSwgY29udGV4dCwgYXJnQ291bnQpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIF8uaWRlbnRpdHk7XG4gICAgaWYgKF8uaXNGdW5jdGlvbih2YWx1ZSkpIHJldHVybiBvcHRpbWl6ZUNiKHZhbHVlLCBjb250ZXh0LCBhcmdDb3VudCk7XG4gICAgaWYgKF8uaXNPYmplY3QodmFsdWUpKSByZXR1cm4gXy5tYXRjaGVyKHZhbHVlKTtcbiAgICByZXR1cm4gXy5wcm9wZXJ0eSh2YWx1ZSk7XG4gIH07XG4gIF8uaXRlcmF0ZWUgPSBmdW5jdGlvbih2YWx1ZSwgY29udGV4dCkge1xuICAgIHJldHVybiBjYih2YWx1ZSwgY29udGV4dCwgSW5maW5pdHkpO1xuICB9O1xuXG4gIC8vIEFuIGludGVybmFsIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBhc3NpZ25lciBmdW5jdGlvbnMuXG4gIHZhciBjcmVhdGVBc3NpZ25lciA9IGZ1bmN0aW9uKGtleXNGdW5jLCB1bmRlZmluZWRPbmx5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoIDwgMiB8fCBvYmogPT0gbnVsbCkgcmV0dXJuIG9iajtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF0sXG4gICAgICAgICAgICBrZXlzID0ga2V5c0Z1bmMoc291cmNlKSxcbiAgICAgICAgICAgIGwgPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICBpZiAoIXVuZGVmaW5lZE9ubHkgfHwgb2JqW2tleV0gPT09IHZvaWQgMCkgb2JqW2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEFuIGludGVybmFsIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBhIG5ldyBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIGFub3RoZXIuXG4gIHZhciBiYXNlQ3JlYXRlID0gZnVuY3Rpb24ocHJvdG90eXBlKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KHByb3RvdHlwZSkpIHJldHVybiB7fTtcbiAgICBpZiAobmF0aXZlQ3JlYXRlKSByZXR1cm4gbmF0aXZlQ3JlYXRlKHByb3RvdHlwZSk7XG4gICAgQ3Rvci5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBDdG9yO1xuICAgIEN0b3IucHJvdG90eXBlID0gbnVsbDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIEhlbHBlciBmb3IgY29sbGVjdGlvbiBtZXRob2RzIHRvIGRldGVybWluZSB3aGV0aGVyIGEgY29sbGVjdGlvblxuICAvLyBzaG91bGQgYmUgaXRlcmF0ZWQgYXMgYW4gYXJyYXkgb3IgYXMgYW4gb2JqZWN0XG4gIC8vIFJlbGF0ZWQ6IGh0dHA6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLXRvbGVuZ3RoXG4gIHZhciBNQVhfQVJSQVlfSU5ERVggPSBNYXRoLnBvdygyLCA1MykgLSAxO1xuICB2YXIgaXNBcnJheUxpa2UgPSBmdW5jdGlvbihjb2xsZWN0aW9uKSB7XG4gICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24gJiYgY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgcmV0dXJuIHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicgJiYgbGVuZ3RoID49IDAgJiYgbGVuZ3RoIDw9IE1BWF9BUlJBWV9JTkRFWDtcbiAgfTtcblxuICAvLyBDb2xsZWN0aW9uIEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIFRoZSBjb3JuZXJzdG9uZSwgYW4gYGVhY2hgIGltcGxlbWVudGF0aW9uLCBha2EgYGZvckVhY2hgLlxuICAvLyBIYW5kbGVzIHJhdyBvYmplY3RzIGluIGFkZGl0aW9uIHRvIGFycmF5LWxpa2VzLiBUcmVhdHMgYWxsXG4gIC8vIHNwYXJzZSBhcnJheS1saWtlcyBhcyBpZiB0aGV5IHdlcmUgZGVuc2UuXG4gIF8uZWFjaCA9IF8uZm9yRWFjaCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRlZSA9IG9wdGltaXplQ2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHZhciBpLCBsZW5ndGg7XG4gICAgaWYgKGlzQXJyYXlMaWtlKG9iaikpIHtcbiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpdGVyYXRlZShvYmpbaV0sIGksIG9iaik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaik7XG4gICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGl0ZXJhdGVlKG9ialtrZXlzW2ldXSwga2V5c1tpXSwgb2JqKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIHJlc3VsdHMgb2YgYXBwbHlpbmcgdGhlIGl0ZXJhdGVlIHRvIGVhY2ggZWxlbWVudC5cbiAgXy5tYXAgPSBfLmNvbGxlY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdHMgPSBBcnJheShsZW5ndGgpO1xuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHZhciBjdXJyZW50S2V5ID0ga2V5cyA/IGtleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgICByZXN1bHRzW2luZGV4XSA9IGl0ZXJhdGVlKG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLy8gQ3JlYXRlIGEgcmVkdWNpbmcgZnVuY3Rpb24gaXRlcmF0aW5nIGxlZnQgb3IgcmlnaHQuXG4gIGZ1bmN0aW9uIGNyZWF0ZVJlZHVjZShkaXIpIHtcbiAgICAvLyBPcHRpbWl6ZWQgaXRlcmF0b3IgZnVuY3Rpb24gYXMgdXNpbmcgYXJndW1lbnRzLmxlbmd0aFxuICAgIC8vIGluIHRoZSBtYWluIGZ1bmN0aW9uIHdpbGwgZGVvcHRpbWl6ZSB0aGUsIHNlZSAjMTk5MS5cbiAgICBmdW5jdGlvbiBpdGVyYXRvcihvYmosIGl0ZXJhdGVlLCBtZW1vLCBrZXlzLCBpbmRleCwgbGVuZ3RoKSB7XG4gICAgICBmb3IgKDsgaW5kZXggPj0gMCAmJiBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gZGlyKSB7XG4gICAgICAgIHZhciBjdXJyZW50S2V5ID0ga2V5cyA/IGtleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgICAgIG1lbW8gPSBpdGVyYXRlZShtZW1vLCBvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgbWVtbywgY29udGV4dCkge1xuICAgICAgaXRlcmF0ZWUgPSBvcHRpbWl6ZUNiKGl0ZXJhdGVlLCBjb250ZXh0LCA0KTtcbiAgICAgIHZhciBrZXlzID0gIWlzQXJyYXlMaWtlKG9iaikgJiYgXy5rZXlzKG9iaiksXG4gICAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGgsXG4gICAgICAgICAgaW5kZXggPSBkaXIgPiAwID8gMCA6IGxlbmd0aCAtIDE7XG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIGluaXRpYWwgdmFsdWUgaWYgbm9uZSBpcyBwcm92aWRlZC5cbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMykge1xuICAgICAgICBtZW1vID0gb2JqW2tleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4XTtcbiAgICAgICAgaW5kZXggKz0gZGlyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdG9yKG9iaiwgaXRlcmF0ZWUsIG1lbW8sIGtleXMsIGluZGV4LCBsZW5ndGgpO1xuICAgIH07XG4gIH1cblxuICAvLyAqKlJlZHVjZSoqIGJ1aWxkcyB1cCBhIHNpbmdsZSByZXN1bHQgZnJvbSBhIGxpc3Qgb2YgdmFsdWVzLCBha2EgYGluamVjdGAsXG4gIC8vIG9yIGBmb2xkbGAuXG4gIF8ucmVkdWNlID0gXy5mb2xkbCA9IF8uaW5qZWN0ID0gY3JlYXRlUmVkdWNlKDEpO1xuXG4gIC8vIFRoZSByaWdodC1hc3NvY2lhdGl2ZSB2ZXJzaW9uIG9mIHJlZHVjZSwgYWxzbyBrbm93biBhcyBgZm9sZHJgLlxuICBfLnJlZHVjZVJpZ2h0ID0gXy5mb2xkciA9IGNyZWF0ZVJlZHVjZSgtMSk7XG5cbiAgLy8gUmV0dXJuIHRoZSBmaXJzdCB2YWx1ZSB3aGljaCBwYXNzZXMgYSB0cnV0aCB0ZXN0LiBBbGlhc2VkIGFzIGBkZXRlY3RgLlxuICBfLmZpbmQgPSBfLmRldGVjdCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIGtleTtcbiAgICBpZiAoaXNBcnJheUxpa2Uob2JqKSkge1xuICAgICAga2V5ID0gXy5maW5kSW5kZXgob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrZXkgPSBfLmZpbmRLZXkob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAoa2V5ICE9PSB2b2lkIDAgJiYga2V5ICE9PSAtMSkgcmV0dXJuIG9ialtrZXldO1xuICB9O1xuXG4gIC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIHRoYXQgcGFzcyBhIHRydXRoIHRlc3QuXG4gIC8vIEFsaWFzZWQgYXMgYHNlbGVjdGAuXG4gIF8uZmlsdGVyID0gXy5zZWxlY3QgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBsaXN0KSkgcmVzdWx0cy5wdXNoKHZhbHVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICAvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyBmb3Igd2hpY2ggYSB0cnV0aCB0ZXN0IGZhaWxzLlxuICBfLnJlamVjdCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIF8uZmlsdGVyKG9iaiwgXy5uZWdhdGUoY2IocHJlZGljYXRlKSksIGNvbnRleHQpO1xuICB9O1xuXG4gIC8vIERldGVybWluZSB3aGV0aGVyIGFsbCBvZiB0aGUgZWxlbWVudHMgbWF0Y2ggYSB0cnV0aCB0ZXN0LlxuICAvLyBBbGlhc2VkIGFzIGBhbGxgLlxuICBfLmV2ZXJ5ID0gXy5hbGwgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGg7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgIGlmICghcHJlZGljYXRlKG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvLyBEZXRlcm1pbmUgaWYgYXQgbGVhc3Qgb25lIGVsZW1lbnQgaW4gdGhlIG9iamVjdCBtYXRjaGVzIGEgdHJ1dGggdGVzdC5cbiAgLy8gQWxpYXNlZCBhcyBgYW55YC5cbiAgXy5zb21lID0gXy5hbnkgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGg7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgIGlmIChwcmVkaWNhdGUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8vIERldGVybWluZSBpZiB0aGUgYXJyYXkgb3Igb2JqZWN0IGNvbnRhaW5zIGEgZ2l2ZW4gdmFsdWUgKHVzaW5nIGA9PT1gKS5cbiAgLy8gQWxpYXNlZCBhcyBgaW5jbHVkZXNgIGFuZCBgaW5jbHVkZWAuXG4gIF8uY29udGFpbnMgPSBfLmluY2x1ZGVzID0gXy5pbmNsdWRlID0gZnVuY3Rpb24ob2JqLCB0YXJnZXQsIGZyb21JbmRleCkge1xuICAgIGlmICghaXNBcnJheUxpa2Uob2JqKSkgb2JqID0gXy52YWx1ZXMob2JqKTtcbiAgICByZXR1cm4gXy5pbmRleE9mKG9iaiwgdGFyZ2V0LCB0eXBlb2YgZnJvbUluZGV4ID09ICdudW1iZXInICYmIGZyb21JbmRleCkgPj0gMDtcbiAgfTtcblxuICAvLyBJbnZva2UgYSBtZXRob2QgKHdpdGggYXJndW1lbnRzKSBvbiBldmVyeSBpdGVtIGluIGEgY29sbGVjdGlvbi5cbiAgXy5pbnZva2UgPSBmdW5jdGlvbihvYmosIG1ldGhvZCkge1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgIHZhciBpc0Z1bmMgPSBfLmlzRnVuY3Rpb24obWV0aG9kKTtcbiAgICByZXR1cm4gXy5tYXAob2JqLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0Z1bmMgPyBtZXRob2QgOiB2YWx1ZVttZXRob2RdO1xuICAgICAgcmV0dXJuIGZ1bmMgPT0gbnVsbCA/IGZ1bmMgOiBmdW5jLmFwcGx5KHZhbHVlLCBhcmdzKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBtYXBgOiBmZXRjaGluZyBhIHByb3BlcnR5LlxuICBfLnBsdWNrID0gZnVuY3Rpb24ob2JqLCBrZXkpIHtcbiAgICByZXR1cm4gXy5tYXAob2JqLCBfLnByb3BlcnR5KGtleSkpO1xuICB9O1xuXG4gIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYGZpbHRlcmA6IHNlbGVjdGluZyBvbmx5IG9iamVjdHNcbiAgLy8gY29udGFpbmluZyBzcGVjaWZpYyBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy53aGVyZSA9IGZ1bmN0aW9uKG9iaiwgYXR0cnMpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIob2JqLCBfLm1hdGNoZXIoYXR0cnMpKTtcbiAgfTtcblxuICAvLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBmaW5kYDogZ2V0dGluZyB0aGUgZmlyc3Qgb2JqZWN0XG4gIC8vIGNvbnRhaW5pbmcgc3BlY2lmaWMgYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8uZmluZFdoZXJlID0gZnVuY3Rpb24ob2JqLCBhdHRycykge1xuICAgIHJldHVybiBfLmZpbmQob2JqLCBfLm1hdGNoZXIoYXR0cnMpKTtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIG1heGltdW0gZWxlbWVudCAob3IgZWxlbWVudC1iYXNlZCBjb21wdXRhdGlvbikuXG4gIF8ubWF4ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHQgPSAtSW5maW5pdHksIGxhc3RDb21wdXRlZCA9IC1JbmZpbml0eSxcbiAgICAgICAgdmFsdWUsIGNvbXB1dGVkO1xuICAgIGlmIChpdGVyYXRlZSA9PSBudWxsICYmIG9iaiAhPSBudWxsKSB7XG4gICAgICBvYmogPSBpc0FycmF5TGlrZShvYmopID8gb2JqIDogXy52YWx1ZXMob2JqKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsdWUgPSBvYmpbaV07XG4gICAgICAgIGlmICh2YWx1ZSA+IHJlc3VsdCkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgICAgXy5lYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUodmFsdWUsIGluZGV4LCBsaXN0KTtcbiAgICAgICAgaWYgKGNvbXB1dGVkID4gbGFzdENvbXB1dGVkIHx8IGNvbXB1dGVkID09PSAtSW5maW5pdHkgJiYgcmVzdWx0ID09PSAtSW5maW5pdHkpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSBtaW5pbXVtIGVsZW1lbnQgKG9yIGVsZW1lbnQtYmFzZWQgY29tcHV0YXRpb24pLlxuICBfLm1pbiA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICB2YXIgcmVzdWx0ID0gSW5maW5pdHksIGxhc3RDb21wdXRlZCA9IEluZmluaXR5LFxuICAgICAgICB2YWx1ZSwgY29tcHV0ZWQ7XG4gICAgaWYgKGl0ZXJhdGVlID09IG51bGwgJiYgb2JqICE9IG51bGwpIHtcbiAgICAgIG9iaiA9IGlzQXJyYXlMaWtlKG9iaikgPyBvYmogOiBfLnZhbHVlcyhvYmopO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZSA9IG9ialtpXTtcbiAgICAgICAgaWYgKHZhbHVlIDwgcmVzdWx0KSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2YWx1ZSwgaW5kZXgsIGxpc3QpO1xuICAgICAgICBpZiAoY29tcHV0ZWQgPCBsYXN0Q29tcHV0ZWQgfHwgY29tcHV0ZWQgPT09IEluZmluaXR5ICYmIHJlc3VsdCA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gU2h1ZmZsZSBhIGNvbGxlY3Rpb24sIHVzaW5nIHRoZSBtb2Rlcm4gdmVyc2lvbiBvZiB0aGVcbiAgLy8gW0Zpc2hlci1ZYXRlcyBzaHVmZmxlXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlcuKAk1lhdGVzX3NodWZmbGUpLlxuICBfLnNodWZmbGUgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgc2V0ID0gaXNBcnJheUxpa2Uob2JqKSA/IG9iaiA6IF8udmFsdWVzKG9iaik7XG4gICAgdmFyIGxlbmd0aCA9IHNldC5sZW5ndGg7XG4gICAgdmFyIHNodWZmbGVkID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpbmRleCA9IDAsIHJhbmQ7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICByYW5kID0gXy5yYW5kb20oMCwgaW5kZXgpO1xuICAgICAgaWYgKHJhbmQgIT09IGluZGV4KSBzaHVmZmxlZFtpbmRleF0gPSBzaHVmZmxlZFtyYW5kXTtcbiAgICAgIHNodWZmbGVkW3JhbmRdID0gc2V0W2luZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIHNodWZmbGVkO1xuICB9O1xuXG4gIC8vIFNhbXBsZSAqKm4qKiByYW5kb20gdmFsdWVzIGZyb20gYSBjb2xsZWN0aW9uLlxuICAvLyBJZiAqKm4qKiBpcyBub3Qgc3BlY2lmaWVkLCByZXR1cm5zIGEgc2luZ2xlIHJhbmRvbSBlbGVtZW50LlxuICAvLyBUaGUgaW50ZXJuYWwgYGd1YXJkYCBhcmd1bWVudCBhbGxvd3MgaXQgdG8gd29yayB3aXRoIGBtYXBgLlxuICBfLnNhbXBsZSA9IGZ1bmN0aW9uKG9iaiwgbiwgZ3VhcmQpIHtcbiAgICBpZiAobiA9PSBudWxsIHx8IGd1YXJkKSB7XG4gICAgICBpZiAoIWlzQXJyYXlMaWtlKG9iaikpIG9iaiA9IF8udmFsdWVzKG9iaik7XG4gICAgICByZXR1cm4gb2JqW18ucmFuZG9tKG9iai5sZW5ndGggLSAxKV07XG4gICAgfVxuICAgIHJldHVybiBfLnNodWZmbGUob2JqKS5zbGljZSgwLCBNYXRoLm1heCgwLCBuKSk7XG4gIH07XG5cbiAgLy8gU29ydCB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uIHByb2R1Y2VkIGJ5IGFuIGl0ZXJhdGVlLlxuICBfLnNvcnRCeSA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICByZXR1cm4gXy5wbHVjayhfLm1hcChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIGNyaXRlcmlhOiBpdGVyYXRlZSh2YWx1ZSwgaW5kZXgsIGxpc3QpXG4gICAgICB9O1xuICAgIH0pLnNvcnQoZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICAgIHZhciBhID0gbGVmdC5jcml0ZXJpYTtcbiAgICAgIHZhciBiID0gcmlnaHQuY3JpdGVyaWE7XG4gICAgICBpZiAoYSAhPT0gYikge1xuICAgICAgICBpZiAoYSA+IGIgfHwgYSA9PT0gdm9pZCAwKSByZXR1cm4gMTtcbiAgICAgICAgaWYgKGEgPCBiIHx8IGIgPT09IHZvaWQgMCkgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxlZnQuaW5kZXggLSByaWdodC5pbmRleDtcbiAgICB9KSwgJ3ZhbHVlJyk7XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gdXNlZCBmb3IgYWdncmVnYXRlIFwiZ3JvdXAgYnlcIiBvcGVyYXRpb25zLlxuICB2YXIgZ3JvdXAgPSBmdW5jdGlvbihiZWhhdmlvcikge1xuICAgIHJldHVybiBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xuICAgICAgICB2YXIga2V5ID0gaXRlcmF0ZWUodmFsdWUsIGluZGV4LCBvYmopO1xuICAgICAgICBiZWhhdmlvcihyZXN1bHQsIHZhbHVlLCBrZXkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gR3JvdXBzIHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24uIFBhc3MgZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZVxuICAvLyB0byBncm91cCBieSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGNyaXRlcmlvbi5cbiAgXy5ncm91cEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgaWYgKF8uaGFzKHJlc3VsdCwga2V5KSkgcmVzdWx0W2tleV0ucHVzaCh2YWx1ZSk7IGVsc2UgcmVzdWx0W2tleV0gPSBbdmFsdWVdO1xuICB9KTtcblxuICAvLyBJbmRleGVzIHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24sIHNpbWlsYXIgdG8gYGdyb3VwQnlgLCBidXQgZm9yXG4gIC8vIHdoZW4geW91IGtub3cgdGhhdCB5b3VyIGluZGV4IHZhbHVlcyB3aWxsIGJlIHVuaXF1ZS5cbiAgXy5pbmRleEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgfSk7XG5cbiAgLy8gQ291bnRzIGluc3RhbmNlcyBvZiBhbiBvYmplY3QgdGhhdCBncm91cCBieSBhIGNlcnRhaW4gY3JpdGVyaW9uLiBQYXNzXG4gIC8vIGVpdGhlciBhIHN0cmluZyBhdHRyaWJ1dGUgdG8gY291bnQgYnksIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZVxuICAvLyBjcml0ZXJpb24uXG4gIF8uY291bnRCeSA9IGdyb3VwKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgIGlmIChfLmhhcyhyZXN1bHQsIGtleSkpIHJlc3VsdFtrZXldKys7IGVsc2UgcmVzdWx0W2tleV0gPSAxO1xuICB9KTtcblxuICAvLyBTYWZlbHkgY3JlYXRlIGEgcmVhbCwgbGl2ZSBhcnJheSBmcm9tIGFueXRoaW5nIGl0ZXJhYmxlLlxuICBfLnRvQXJyYXkgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIW9iaikgcmV0dXJuIFtdO1xuICAgIGlmIChfLmlzQXJyYXkob2JqKSkgcmV0dXJuIHNsaWNlLmNhbGwob2JqKTtcbiAgICBpZiAoaXNBcnJheUxpa2Uob2JqKSkgcmV0dXJuIF8ubWFwKG9iaiwgXy5pZGVudGl0eSk7XG4gICAgcmV0dXJuIF8udmFsdWVzKG9iaik7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gYW4gb2JqZWN0LlxuICBfLnNpemUgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiAwO1xuICAgIHJldHVybiBpc0FycmF5TGlrZShvYmopID8gb2JqLmxlbmd0aCA6IF8ua2V5cyhvYmopLmxlbmd0aDtcbiAgfTtcblxuICAvLyBTcGxpdCBhIGNvbGxlY3Rpb24gaW50byB0d28gYXJyYXlzOiBvbmUgd2hvc2UgZWxlbWVudHMgYWxsIHNhdGlzZnkgdGhlIGdpdmVuXG4gIC8vIHByZWRpY2F0ZSwgYW5kIG9uZSB3aG9zZSBlbGVtZW50cyBhbGwgZG8gbm90IHNhdGlzZnkgdGhlIHByZWRpY2F0ZS5cbiAgXy5wYXJ0aXRpb24gPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIHBhc3MgPSBbXSwgZmFpbCA9IFtdO1xuICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iaikge1xuICAgICAgKHByZWRpY2F0ZSh2YWx1ZSwga2V5LCBvYmopID8gcGFzcyA6IGZhaWwpLnB1c2godmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBbcGFzcywgZmFpbF07XG4gIH07XG5cbiAgLy8gQXJyYXkgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIEdldCB0aGUgZmlyc3QgZWxlbWVudCBvZiBhbiBhcnJheS4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiB0aGUgZmlyc3QgTlxuICAvLyB2YWx1ZXMgaW4gdGhlIGFycmF5LiBBbGlhc2VkIGFzIGBoZWFkYCBhbmQgYHRha2VgLiBUaGUgKipndWFyZCoqIGNoZWNrXG4gIC8vIGFsbG93cyBpdCB0byB3b3JrIHdpdGggYF8ubWFwYC5cbiAgXy5maXJzdCA9IF8uaGVhZCA9IF8udGFrZSA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHJldHVybiBhcnJheVswXTtcbiAgICByZXR1cm4gXy5pbml0aWFsKGFycmF5LCBhcnJheS5sZW5ndGggLSBuKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGV2ZXJ5dGhpbmcgYnV0IHRoZSBsYXN0IGVudHJ5IG9mIHRoZSBhcnJheS4gRXNwZWNpYWxseSB1c2VmdWwgb25cbiAgLy8gdGhlIGFyZ3VtZW50cyBvYmplY3QuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gYWxsIHRoZSB2YWx1ZXMgaW5cbiAgLy8gdGhlIGFycmF5LCBleGNsdWRpbmcgdGhlIGxhc3QgTi5cbiAgXy5pbml0aWFsID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgcmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksIDAsIE1hdGgubWF4KDAsIGFycmF5Lmxlbmd0aCAtIChuID09IG51bGwgfHwgZ3VhcmQgPyAxIDogbikpKTtcbiAgfTtcblxuICAvLyBHZXQgdGhlIGxhc3QgZWxlbWVudCBvZiBhbiBhcnJheS4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiB0aGUgbGFzdCBOXG4gIC8vIHZhbHVlcyBpbiB0aGUgYXJyYXkuXG4gIF8ubGFzdCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcbiAgICByZXR1cm4gXy5yZXN0KGFycmF5LCBNYXRoLm1heCgwLCBhcnJheS5sZW5ndGggLSBuKSk7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBldmVyeXRoaW5nIGJ1dCB0aGUgZmlyc3QgZW50cnkgb2YgdGhlIGFycmF5LiBBbGlhc2VkIGFzIGB0YWlsYCBhbmQgYGRyb3BgLlxuICAvLyBFc3BlY2lhbGx5IHVzZWZ1bCBvbiB0aGUgYXJndW1lbnRzIG9iamVjdC4gUGFzc2luZyBhbiAqKm4qKiB3aWxsIHJldHVyblxuICAvLyB0aGUgcmVzdCBOIHZhbHVlcyBpbiB0aGUgYXJyYXkuXG4gIF8ucmVzdCA9IF8udGFpbCA9IF8uZHJvcCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIHJldHVybiBzbGljZS5jYWxsKGFycmF5LCBuID09IG51bGwgfHwgZ3VhcmQgPyAxIDogbik7XG4gIH07XG5cbiAgLy8gVHJpbSBvdXQgYWxsIGZhbHN5IHZhbHVlcyBmcm9tIGFuIGFycmF5LlxuICBfLmNvbXBhY3QgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHJldHVybiBfLmZpbHRlcihhcnJheSwgXy5pZGVudGl0eSk7XG4gIH07XG5cbiAgLy8gSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gb2YgYSByZWN1cnNpdmUgYGZsYXR0ZW5gIGZ1bmN0aW9uLlxuICB2YXIgZmxhdHRlbiA9IGZ1bmN0aW9uKGlucHV0LCBzaGFsbG93LCBzdHJpY3QsIHN0YXJ0SW5kZXgpIHtcbiAgICB2YXIgb3V0cHV0ID0gW10sIGlkeCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0SW5kZXggfHwgMCwgbGVuZ3RoID0gaW5wdXQgJiYgaW5wdXQubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB2YWx1ZSA9IGlucHV0W2ldO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJiAoXy5pc0FycmF5KHZhbHVlKSB8fCBfLmlzQXJndW1lbnRzKHZhbHVlKSkpIHtcbiAgICAgICAgLy9mbGF0dGVuIGN1cnJlbnQgbGV2ZWwgb2YgYXJyYXkgb3IgYXJndW1lbnRzIG9iamVjdFxuICAgICAgICBpZiAoIXNoYWxsb3cpIHZhbHVlID0gZmxhdHRlbih2YWx1ZSwgc2hhbGxvdywgc3RyaWN0KTtcbiAgICAgICAgdmFyIGogPSAwLCBsZW4gPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgIG91dHB1dC5sZW5ndGggKz0gbGVuO1xuICAgICAgICB3aGlsZSAoaiA8IGxlbikge1xuICAgICAgICAgIG91dHB1dFtpZHgrK10gPSB2YWx1ZVtqKytdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFzdHJpY3QpIHtcbiAgICAgICAgb3V0cHV0W2lkeCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9O1xuXG4gIC8vIEZsYXR0ZW4gb3V0IGFuIGFycmF5LCBlaXRoZXIgcmVjdXJzaXZlbHkgKGJ5IGRlZmF1bHQpLCBvciBqdXN0IG9uZSBsZXZlbC5cbiAgXy5mbGF0dGVuID0gZnVuY3Rpb24oYXJyYXksIHNoYWxsb3cpIHtcbiAgICByZXR1cm4gZmxhdHRlbihhcnJheSwgc2hhbGxvdywgZmFsc2UpO1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHZlcnNpb24gb2YgdGhlIGFycmF5IHRoYXQgZG9lcyBub3QgY29udGFpbiB0aGUgc3BlY2lmaWVkIHZhbHVlKHMpLlxuICBfLndpdGhvdXQgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHJldHVybiBfLmRpZmZlcmVuY2UoYXJyYXksIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gIH07XG5cbiAgLy8gUHJvZHVjZSBhIGR1cGxpY2F0ZS1mcmVlIHZlcnNpb24gb2YgdGhlIGFycmF5LiBJZiB0aGUgYXJyYXkgaGFzIGFscmVhZHlcbiAgLy8gYmVlbiBzb3J0ZWQsIHlvdSBoYXZlIHRoZSBvcHRpb24gb2YgdXNpbmcgYSBmYXN0ZXIgYWxnb3JpdGhtLlxuICAvLyBBbGlhc2VkIGFzIGB1bmlxdWVgLlxuICBfLnVuaXEgPSBfLnVuaXF1ZSA9IGZ1bmN0aW9uKGFycmF5LCBpc1NvcnRlZCwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpZiAoYXJyYXkgPT0gbnVsbCkgcmV0dXJuIFtdO1xuICAgIGlmICghXy5pc0Jvb2xlYW4oaXNTb3J0ZWQpKSB7XG4gICAgICBjb250ZXh0ID0gaXRlcmF0ZWU7XG4gICAgICBpdGVyYXRlZSA9IGlzU29ydGVkO1xuICAgICAgaXNTb3J0ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGl0ZXJhdGVlICE9IG51bGwpIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgc2VlbiA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBhcnJheS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaV0sXG4gICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlLCBpLCBhcnJheSkgOiB2YWx1ZTtcbiAgICAgIGlmIChpc1NvcnRlZCkge1xuICAgICAgICBpZiAoIWkgfHwgc2VlbiAhPT0gY29tcHV0ZWQpIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgc2VlbiA9IGNvbXB1dGVkO1xuICAgICAgfSBlbHNlIGlmIChpdGVyYXRlZSkge1xuICAgICAgICBpZiAoIV8uY29udGFpbnMoc2VlbiwgY29tcHV0ZWQpKSB7XG4gICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIV8uY29udGFpbnMocmVzdWx0LCB2YWx1ZSkpIHtcbiAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFByb2R1Y2UgYW4gYXJyYXkgdGhhdCBjb250YWlucyB0aGUgdW5pb246IGVhY2ggZGlzdGluY3QgZWxlbWVudCBmcm9tIGFsbCBvZlxuICAvLyB0aGUgcGFzc2VkLWluIGFycmF5cy5cbiAgXy51bmlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBfLnVuaXEoZmxhdHRlbihhcmd1bWVudHMsIHRydWUsIHRydWUpKTtcbiAgfTtcblxuICAvLyBQcm9kdWNlIGFuIGFycmF5IHRoYXQgY29udGFpbnMgZXZlcnkgaXRlbSBzaGFyZWQgYmV0d2VlbiBhbGwgdGhlXG4gIC8vIHBhc3NlZC1pbiBhcnJheXMuXG4gIF8uaW50ZXJzZWN0aW9uID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICBpZiAoYXJyYXkgPT0gbnVsbCkgcmV0dXJuIFtdO1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgYXJnc0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IGFycmF5W2ldO1xuICAgICAgaWYgKF8uY29udGFpbnMocmVzdWx0LCBpdGVtKSkgY29udGludWU7XG4gICAgICBmb3IgKHZhciBqID0gMTsgaiA8IGFyZ3NMZW5ndGg7IGorKykge1xuICAgICAgICBpZiAoIV8uY29udGFpbnMoYXJndW1lbnRzW2pdLCBpdGVtKSkgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoaiA9PT0gYXJnc0xlbmd0aCkgcmVzdWx0LnB1c2goaXRlbSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gVGFrZSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIG9uZSBhcnJheSBhbmQgYSBudW1iZXIgb2Ygb3RoZXIgYXJyYXlzLlxuICAvLyBPbmx5IHRoZSBlbGVtZW50cyBwcmVzZW50IGluIGp1c3QgdGhlIGZpcnN0IGFycmF5IHdpbGwgcmVtYWluLlxuICBfLmRpZmZlcmVuY2UgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHZhciByZXN0ID0gZmxhdHRlbihhcmd1bWVudHMsIHRydWUsIHRydWUsIDEpO1xuICAgIHJldHVybiBfLmZpbHRlcihhcnJheSwgZnVuY3Rpb24odmFsdWUpe1xuICAgICAgcmV0dXJuICFfLmNvbnRhaW5zKHJlc3QsIHZhbHVlKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBaaXAgdG9nZXRoZXIgbXVsdGlwbGUgbGlzdHMgaW50byBhIHNpbmdsZSBhcnJheSAtLSBlbGVtZW50cyB0aGF0IHNoYXJlXG4gIC8vIGFuIGluZGV4IGdvIHRvZ2V0aGVyLlxuICBfLnppcCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBfLnVuemlwKGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgLy8gQ29tcGxlbWVudCBvZiBfLnppcC4gVW56aXAgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgYW5kIGdyb3Vwc1xuICAvLyBlYWNoIGFycmF5J3MgZWxlbWVudHMgb24gc2hhcmVkIGluZGljZXNcbiAgXy51bnppcCA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ICYmIF8ubWF4KGFycmF5LCAnbGVuZ3RoJykubGVuZ3RoIHx8IDA7XG4gICAgdmFyIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gXy5wbHVjayhhcnJheSwgaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIENvbnZlcnRzIGxpc3RzIGludG8gb2JqZWN0cy4gUGFzcyBlaXRoZXIgYSBzaW5nbGUgYXJyYXkgb2YgYFtrZXksIHZhbHVlXWBcbiAgLy8gcGFpcnMsIG9yIHR3byBwYXJhbGxlbCBhcnJheXMgb2YgdGhlIHNhbWUgbGVuZ3RoIC0tIG9uZSBvZiBrZXlzLCBhbmQgb25lIG9mXG4gIC8vIHRoZSBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgXy5vYmplY3QgPSBmdW5jdGlvbihsaXN0LCB2YWx1ZXMpIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGxpc3QgJiYgbGlzdC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICByZXN1bHRbbGlzdFtpXV0gPSB2YWx1ZXNbaV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRbbGlzdFtpXVswXV0gPSBsaXN0W2ldWzFdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW4gaXRlbSBpbiBhbiBhcnJheSxcbiAgLy8gb3IgLTEgaWYgdGhlIGl0ZW0gaXMgbm90IGluY2x1ZGVkIGluIHRoZSBhcnJheS5cbiAgLy8gSWYgdGhlIGFycmF5IGlzIGxhcmdlIGFuZCBhbHJlYWR5IGluIHNvcnQgb3JkZXIsIHBhc3MgYHRydWVgXG4gIC8vIGZvciAqKmlzU29ydGVkKiogdG8gdXNlIGJpbmFyeSBzZWFyY2guXG4gIF8uaW5kZXhPZiA9IGZ1bmN0aW9uKGFycmF5LCBpdGVtLCBpc1NvcnRlZCkge1xuICAgIHZhciBpID0gMCwgbGVuZ3RoID0gYXJyYXkgJiYgYXJyYXkubGVuZ3RoO1xuICAgIGlmICh0eXBlb2YgaXNTb3J0ZWQgPT0gJ251bWJlcicpIHtcbiAgICAgIGkgPSBpc1NvcnRlZCA8IDAgPyBNYXRoLm1heCgwLCBsZW5ndGggKyBpc1NvcnRlZCkgOiBpc1NvcnRlZDtcbiAgICB9IGVsc2UgaWYgKGlzU29ydGVkICYmIGxlbmd0aCkge1xuICAgICAgaSA9IF8uc29ydGVkSW5kZXgoYXJyYXksIGl0ZW0pO1xuICAgICAgcmV0dXJuIGFycmF5W2ldID09PSBpdGVtID8gaSA6IC0xO1xuICAgIH1cbiAgICBpZiAoaXRlbSAhPT0gaXRlbSkge1xuICAgICAgcmV0dXJuIF8uZmluZEluZGV4KHNsaWNlLmNhbGwoYXJyYXksIGkpLCBfLmlzTmFOKTtcbiAgICB9XG4gICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykgaWYgKGFycmF5W2ldID09PSBpdGVtKSByZXR1cm4gaTtcbiAgICByZXR1cm4gLTE7XG4gIH07XG5cbiAgXy5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uKGFycmF5LCBpdGVtLCBmcm9tKSB7XG4gICAgdmFyIGlkeCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcbiAgICBpZiAodHlwZW9mIGZyb20gPT0gJ251bWJlcicpIHtcbiAgICAgIGlkeCA9IGZyb20gPCAwID8gaWR4ICsgZnJvbSArIDEgOiBNYXRoLm1pbihpZHgsIGZyb20gKyAxKTtcbiAgICB9XG4gICAgaWYgKGl0ZW0gIT09IGl0ZW0pIHtcbiAgICAgIHJldHVybiBfLmZpbmRMYXN0SW5kZXgoc2xpY2UuY2FsbChhcnJheSwgMCwgaWR4KSwgXy5pc05hTik7XG4gICAgfVxuICAgIHdoaWxlICgtLWlkeCA+PSAwKSBpZiAoYXJyYXlbaWR4XSA9PT0gaXRlbSkgcmV0dXJuIGlkeDtcbiAgICByZXR1cm4gLTE7XG4gIH07XG5cbiAgLy8gR2VuZXJhdG9yIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgZmluZEluZGV4IGFuZCBmaW5kTGFzdEluZGV4IGZ1bmN0aW9uc1xuICBmdW5jdGlvbiBjcmVhdGVJbmRleEZpbmRlcihkaXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSAhPSBudWxsICYmIGFycmF5Lmxlbmd0aDtcbiAgICAgIHZhciBpbmRleCA9IGRpciA+IDAgPyAwIDogbGVuZ3RoIC0gMTtcbiAgICAgIGZvciAoOyBpbmRleCA+PSAwICYmIGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSBkaXIpIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICB9XG5cbiAgLy8gUmV0dXJucyB0aGUgZmlyc3QgaW5kZXggb24gYW4gYXJyYXktbGlrZSB0aGF0IHBhc3NlcyBhIHByZWRpY2F0ZSB0ZXN0XG4gIF8uZmluZEluZGV4ID0gY3JlYXRlSW5kZXhGaW5kZXIoMSk7XG5cbiAgXy5maW5kTGFzdEluZGV4ID0gY3JlYXRlSW5kZXhGaW5kZXIoLTEpO1xuXG4gIC8vIFVzZSBhIGNvbXBhcmF0b3IgZnVuY3Rpb24gdG8gZmlndXJlIG91dCB0aGUgc21hbGxlc3QgaW5kZXggYXQgd2hpY2hcbiAgLy8gYW4gb2JqZWN0IHNob3VsZCBiZSBpbnNlcnRlZCBzbyBhcyB0byBtYWludGFpbiBvcmRlci4gVXNlcyBiaW5hcnkgc2VhcmNoLlxuICBfLnNvcnRlZEluZGV4ID0gZnVuY3Rpb24oYXJyYXksIG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0LCAxKTtcbiAgICB2YXIgdmFsdWUgPSBpdGVyYXRlZShvYmopO1xuICAgIHZhciBsb3cgPSAwLCBoaWdoID0gYXJyYXkubGVuZ3RoO1xuICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICB2YXIgbWlkID0gTWF0aC5mbG9vcigobG93ICsgaGlnaCkgLyAyKTtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVttaWRdKSA8IHZhbHVlKSBsb3cgPSBtaWQgKyAxOyBlbHNlIGhpZ2ggPSBtaWQ7XG4gICAgfVxuICAgIHJldHVybiBsb3c7XG4gIH07XG5cbiAgLy8gR2VuZXJhdGUgYW4gaW50ZWdlciBBcnJheSBjb250YWluaW5nIGFuIGFyaXRobWV0aWMgcHJvZ3Jlc3Npb24uIEEgcG9ydCBvZlxuICAvLyB0aGUgbmF0aXZlIFB5dGhvbiBgcmFuZ2UoKWAgZnVuY3Rpb24uIFNlZVxuICAvLyBbdGhlIFB5dGhvbiBkb2N1bWVudGF0aW9uXShodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvZnVuY3Rpb25zLmh0bWwjcmFuZ2UpLlxuICBfLnJhbmdlID0gZnVuY3Rpb24oc3RhcnQsIHN0b3AsIHN0ZXApIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8PSAxKSB7XG4gICAgICBzdG9wID0gc3RhcnQgfHwgMDtcbiAgICAgIHN0YXJ0ID0gMDtcbiAgICB9XG4gICAgc3RlcCA9IHN0ZXAgfHwgMTtcblxuICAgIHZhciBsZW5ndGggPSBNYXRoLm1heChNYXRoLmNlaWwoKHN0b3AgLSBzdGFydCkgLyBzdGVwKSwgMCk7XG4gICAgdmFyIHJhbmdlID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyssIHN0YXJ0ICs9IHN0ZXApIHtcbiAgICAgIHJhbmdlW2lkeF0gPSBzdGFydDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmFuZ2U7XG4gIH07XG5cbiAgLy8gRnVuY3Rpb24gKGFoZW0pIEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBEZXRlcm1pbmVzIHdoZXRoZXIgdG8gZXhlY3V0ZSBhIGZ1bmN0aW9uIGFzIGEgY29uc3RydWN0b3JcbiAgLy8gb3IgYSBub3JtYWwgZnVuY3Rpb24gd2l0aCB0aGUgcHJvdmlkZWQgYXJndW1lbnRzXG4gIHZhciBleGVjdXRlQm91bmQgPSBmdW5jdGlvbihzb3VyY2VGdW5jLCBib3VuZEZ1bmMsIGNvbnRleHQsIGNhbGxpbmdDb250ZXh0LCBhcmdzKSB7XG4gICAgaWYgKCEoY2FsbGluZ0NvbnRleHQgaW5zdGFuY2VvZiBib3VuZEZ1bmMpKSByZXR1cm4gc291cmNlRnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICB2YXIgc2VsZiA9IGJhc2VDcmVhdGUoc291cmNlRnVuYy5wcm90b3R5cGUpO1xuICAgIHZhciByZXN1bHQgPSBzb3VyY2VGdW5jLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgIGlmIChfLmlzT2JqZWN0KHJlc3VsdCkpIHJldHVybiByZXN1bHQ7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLy8gQ3JlYXRlIGEgZnVuY3Rpb24gYm91bmQgdG8gYSBnaXZlbiBvYmplY3QgKGFzc2lnbmluZyBgdGhpc2AsIGFuZCBhcmd1bWVudHMsXG4gIC8vIG9wdGlvbmFsbHkpLiBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgRnVuY3Rpb24uYmluZGAgaWZcbiAgLy8gYXZhaWxhYmxlLlxuICBfLmJpbmQgPSBmdW5jdGlvbihmdW5jLCBjb250ZXh0KSB7XG4gICAgaWYgKG5hdGl2ZUJpbmQgJiYgZnVuYy5iaW5kID09PSBuYXRpdmVCaW5kKSByZXR1cm4gbmF0aXZlQmluZC5hcHBseShmdW5jLCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgIGlmICghXy5pc0Z1bmN0aW9uKGZ1bmMpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdCaW5kIG11c3QgYmUgY2FsbGVkIG9uIGEgZnVuY3Rpb24nKTtcbiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICB2YXIgYm91bmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBleGVjdXRlQm91bmQoZnVuYywgYm91bmQsIGNvbnRleHQsIHRoaXMsIGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO1xuICAgIH07XG4gICAgcmV0dXJuIGJvdW5kO1xuICB9O1xuXG4gIC8vIFBhcnRpYWxseSBhcHBseSBhIGZ1bmN0aW9uIGJ5IGNyZWF0aW5nIGEgdmVyc2lvbiB0aGF0IGhhcyBoYWQgc29tZSBvZiBpdHNcbiAgLy8gYXJndW1lbnRzIHByZS1maWxsZWQsIHdpdGhvdXQgY2hhbmdpbmcgaXRzIGR5bmFtaWMgYHRoaXNgIGNvbnRleHQuIF8gYWN0c1xuICAvLyBhcyBhIHBsYWNlaG9sZGVyLCBhbGxvd2luZyBhbnkgY29tYmluYXRpb24gb2YgYXJndW1lbnRzIHRvIGJlIHByZS1maWxsZWQuXG4gIF8ucGFydGlhbCA9IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICB2YXIgYm91bmRBcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIHZhciBib3VuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBvc2l0aW9uID0gMCwgbGVuZ3RoID0gYm91bmRBcmdzLmxlbmd0aDtcbiAgICAgIHZhciBhcmdzID0gQXJyYXkobGVuZ3RoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXJnc1tpXSA9IGJvdW5kQXJnc1tpXSA9PT0gXyA/IGFyZ3VtZW50c1twb3NpdGlvbisrXSA6IGJvdW5kQXJnc1tpXTtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChwb3NpdGlvbiA8IGFyZ3VtZW50cy5sZW5ndGgpIGFyZ3MucHVzaChhcmd1bWVudHNbcG9zaXRpb24rK10pO1xuICAgICAgcmV0dXJuIGV4ZWN1dGVCb3VuZChmdW5jLCBib3VuZCwgdGhpcywgdGhpcywgYXJncyk7XG4gICAgfTtcbiAgICByZXR1cm4gYm91bmQ7XG4gIH07XG5cbiAgLy8gQmluZCBhIG51bWJlciBvZiBhbiBvYmplY3QncyBtZXRob2RzIHRvIHRoYXQgb2JqZWN0LiBSZW1haW5pbmcgYXJndW1lbnRzXG4gIC8vIGFyZSB0aGUgbWV0aG9kIG5hbWVzIHRvIGJlIGJvdW5kLiBVc2VmdWwgZm9yIGVuc3VyaW5nIHRoYXQgYWxsIGNhbGxiYWNrc1xuICAvLyBkZWZpbmVkIG9uIGFuIG9iamVjdCBiZWxvbmcgdG8gaXQuXG4gIF8uYmluZEFsbCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBpLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLCBrZXk7XG4gICAgaWYgKGxlbmd0aCA8PSAxKSB0aHJvdyBuZXcgRXJyb3IoJ2JpbmRBbGwgbXVzdCBiZSBwYXNzZWQgZnVuY3Rpb24gbmFtZXMnKTtcbiAgICBmb3IgKGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGtleSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIG9ialtrZXldID0gXy5iaW5kKG9ialtrZXldLCBvYmopO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIE1lbW9pemUgYW4gZXhwZW5zaXZlIGZ1bmN0aW9uIGJ5IHN0b3JpbmcgaXRzIHJlc3VsdHMuXG4gIF8ubWVtb2l6ZSA9IGZ1bmN0aW9uKGZ1bmMsIGhhc2hlcikge1xuICAgIHZhciBtZW1vaXplID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICB2YXIgY2FjaGUgPSBtZW1vaXplLmNhY2hlO1xuICAgICAgdmFyIGFkZHJlc3MgPSAnJyArIChoYXNoZXIgPyBoYXNoZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IGtleSk7XG4gICAgICBpZiAoIV8uaGFzKGNhY2hlLCBhZGRyZXNzKSkgY2FjaGVbYWRkcmVzc10gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICByZXR1cm4gY2FjaGVbYWRkcmVzc107XG4gICAgfTtcbiAgICBtZW1vaXplLmNhY2hlID0ge307XG4gICAgcmV0dXJuIG1lbW9pemU7XG4gIH07XG5cbiAgLy8gRGVsYXlzIGEgZnVuY3Rpb24gZm9yIHRoZSBnaXZlbiBudW1iZXIgb2YgbWlsbGlzZWNvbmRzLCBhbmQgdGhlbiBjYWxsc1xuICAvLyBpdCB3aXRoIHRoZSBhcmd1bWVudHMgc3VwcGxpZWQuXG4gIF8uZGVsYXkgPSBmdW5jdGlvbihmdW5jLCB3YWl0KSB7XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBmdW5jLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgIH0sIHdhaXQpO1xuICB9O1xuXG4gIC8vIERlZmVycyBhIGZ1bmN0aW9uLCBzY2hlZHVsaW5nIGl0IHRvIHJ1biBhZnRlciB0aGUgY3VycmVudCBjYWxsIHN0YWNrIGhhc1xuICAvLyBjbGVhcmVkLlxuICBfLmRlZmVyID0gXy5wYXJ0aWFsKF8uZGVsYXksIF8sIDEpO1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgd2hlbiBpbnZva2VkLCB3aWxsIG9ubHkgYmUgdHJpZ2dlcmVkIGF0IG1vc3Qgb25jZVxuICAvLyBkdXJpbmcgYSBnaXZlbiB3aW5kb3cgb2YgdGltZS4gTm9ybWFsbHksIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gd2lsbCBydW5cbiAgLy8gYXMgbXVjaCBhcyBpdCBjYW4sIHdpdGhvdXQgZXZlciBnb2luZyBtb3JlIHRoYW4gb25jZSBwZXIgYHdhaXRgIGR1cmF0aW9uO1xuICAvLyBidXQgaWYgeW91J2QgbGlrZSB0byBkaXNhYmxlIHRoZSBleGVjdXRpb24gb24gdGhlIGxlYWRpbmcgZWRnZSwgcGFzc1xuICAvLyBge2xlYWRpbmc6IGZhbHNlfWAuIFRvIGRpc2FibGUgZXhlY3V0aW9uIG9uIHRoZSB0cmFpbGluZyBlZGdlLCBkaXR0by5cbiAgXy50aHJvdHRsZSA9IGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICB2YXIgY29udGV4dCwgYXJncywgcmVzdWx0O1xuICAgIHZhciB0aW1lb3V0ID0gbnVsbDtcbiAgICB2YXIgcHJldmlvdXMgPSAwO1xuICAgIGlmICghb3B0aW9ucykgb3B0aW9ucyA9IHt9O1xuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcHJldmlvdXMgPSBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlID8gMCA6IF8ubm93KCk7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBub3cgPSBfLm5vdygpO1xuICAgICAgaWYgKCFwcmV2aW91cyAmJiBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlKSBwcmV2aW91cyA9IG5vdztcbiAgICAgIHZhciByZW1haW5pbmcgPSB3YWl0IC0gKG5vdyAtIHByZXZpb3VzKTtcbiAgICAgIGNvbnRleHQgPSB0aGlzO1xuICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIGlmIChyZW1haW5pbmcgPD0gMCB8fCByZW1haW5pbmcgPiB3YWl0KSB7XG4gICAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzID0gbm93O1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAoIXRpbWVvdXQgJiYgb3B0aW9ucy50cmFpbGluZyAhPT0gZmFsc2UpIHtcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCBhcyBsb25nIGFzIGl0IGNvbnRpbnVlcyB0byBiZSBpbnZva2VkLCB3aWxsIG5vdFxuICAvLyBiZSB0cmlnZ2VyZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZnRlciBpdCBzdG9wcyBiZWluZyBjYWxsZWQgZm9yXG4gIC8vIE4gbWlsbGlzZWNvbmRzLiBJZiBgaW1tZWRpYXRlYCBpcyBwYXNzZWQsIHRyaWdnZXIgdGhlIGZ1bmN0aW9uIG9uIHRoZVxuICAvLyBsZWFkaW5nIGVkZ2UsIGluc3RlYWQgb2YgdGhlIHRyYWlsaW5nLlxuICBfLmRlYm91bmNlID0gZnVuY3Rpb24oZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XG4gICAgdmFyIHRpbWVvdXQsIGFyZ3MsIGNvbnRleHQsIHRpbWVzdGFtcCwgcmVzdWx0O1xuXG4gICAgdmFyIGxhdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbGFzdCA9IF8ubm93KCkgLSB0aW1lc3RhbXA7XG5cbiAgICAgIGlmIChsYXN0IDwgd2FpdCAmJiBsYXN0ID49IDApIHtcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQgLSBsYXN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICBpZiAoIWltbWVkaWF0ZSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgY29udGV4dCA9IHRoaXM7XG4gICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgdGltZXN0YW1wID0gXy5ub3coKTtcbiAgICAgIHZhciBjYWxsTm93ID0gaW1tZWRpYXRlICYmICF0aW1lb3V0O1xuICAgICAgaWYgKCF0aW1lb3V0KSB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgICBpZiAoY2FsbE5vdykge1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIHRoZSBmaXJzdCBmdW5jdGlvbiBwYXNzZWQgYXMgYW4gYXJndW1lbnQgdG8gdGhlIHNlY29uZCxcbiAgLy8gYWxsb3dpbmcgeW91IHRvIGFkanVzdCBhcmd1bWVudHMsIHJ1biBjb2RlIGJlZm9yZSBhbmQgYWZ0ZXIsIGFuZFxuICAvLyBjb25kaXRpb25hbGx5IGV4ZWN1dGUgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLlxuICBfLndyYXAgPSBmdW5jdGlvbihmdW5jLCB3cmFwcGVyKSB7XG4gICAgcmV0dXJuIF8ucGFydGlhbCh3cmFwcGVyLCBmdW5jKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgbmVnYXRlZCB2ZXJzaW9uIG9mIHRoZSBwYXNzZWQtaW4gcHJlZGljYXRlLlxuICBfLm5lZ2F0ZSA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBpcyB0aGUgY29tcG9zaXRpb24gb2YgYSBsaXN0IG9mIGZ1bmN0aW9ucywgZWFjaFxuICAvLyBjb25zdW1pbmcgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZnVuY3Rpb24gdGhhdCBmb2xsb3dzLlxuICBfLmNvbXBvc2UgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgc3RhcnQgPSBhcmdzLmxlbmd0aCAtIDE7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGkgPSBzdGFydDtcbiAgICAgIHZhciByZXN1bHQgPSBhcmdzW3N0YXJ0XS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgd2hpbGUgKGktLSkgcmVzdWx0ID0gYXJnc1tpXS5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIG9uIGFuZCBhZnRlciB0aGUgTnRoIGNhbGwuXG4gIF8uYWZ0ZXIgPSBmdW5jdGlvbih0aW1lcywgZnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICgtLXRpbWVzIDwgMSkge1xuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIHVwIHRvIChidXQgbm90IGluY2x1ZGluZykgdGhlIE50aCBjYWxsLlxuICBfLmJlZm9yZSA9IGZ1bmN0aW9uKHRpbWVzLCBmdW5jKSB7XG4gICAgdmFyIG1lbW87XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKC0tdGltZXMgPiAwKSB7XG4gICAgICAgIG1lbW8gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICBpZiAodGltZXMgPD0gMSkgZnVuYyA9IG51bGw7XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgYXQgbW9zdCBvbmUgdGltZSwgbm8gbWF0dGVyIGhvd1xuICAvLyBvZnRlbiB5b3UgY2FsbCBpdC4gVXNlZnVsIGZvciBsYXp5IGluaXRpYWxpemF0aW9uLlxuICBfLm9uY2UgPSBfLnBhcnRpYWwoXy5iZWZvcmUsIDIpO1xuXG4gIC8vIE9iamVjdCBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIEtleXMgaW4gSUUgPCA5IHRoYXQgd29uJ3QgYmUgaXRlcmF0ZWQgYnkgYGZvciBrZXkgaW4gLi4uYCBhbmQgdGh1cyBtaXNzZWQuXG4gIHZhciBoYXNFbnVtQnVnID0gIXt0b1N0cmluZzogbnVsbH0ucHJvcGVydHlJc0VudW1lcmFibGUoJ3RvU3RyaW5nJyk7XG4gIHZhciBub25FbnVtZXJhYmxlUHJvcHMgPSBbJ3ZhbHVlT2YnLCAnaXNQcm90b3R5cGVPZicsICd0b1N0cmluZycsXG4gICAgICAgICAgICAgICAgICAgICAgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJ2hhc093blByb3BlcnR5JywgJ3RvTG9jYWxlU3RyaW5nJ107XG5cbiAgZnVuY3Rpb24gY29sbGVjdE5vbkVudW1Qcm9wcyhvYmosIGtleXMpIHtcbiAgICB2YXIgbm9uRW51bUlkeCA9IG5vbkVudW1lcmFibGVQcm9wcy5sZW5ndGg7XG4gICAgdmFyIGNvbnN0cnVjdG9yID0gb2JqLmNvbnN0cnVjdG9yO1xuICAgIHZhciBwcm90byA9IChfLmlzRnVuY3Rpb24oY29uc3RydWN0b3IpICYmIGNvbnN0cnVjdG9yLnByb3RvdHlwZSkgfHwgT2JqUHJvdG87XG5cbiAgICAvLyBDb25zdHJ1Y3RvciBpcyBhIHNwZWNpYWwgY2FzZS5cbiAgICB2YXIgcHJvcCA9ICdjb25zdHJ1Y3Rvcic7XG4gICAgaWYgKF8uaGFzKG9iaiwgcHJvcCkgJiYgIV8uY29udGFpbnMoa2V5cywgcHJvcCkpIGtleXMucHVzaChwcm9wKTtcblxuICAgIHdoaWxlIChub25FbnVtSWR4LS0pIHtcbiAgICAgIHByb3AgPSBub25FbnVtZXJhYmxlUHJvcHNbbm9uRW51bUlkeF07XG4gICAgICBpZiAocHJvcCBpbiBvYmogJiYgb2JqW3Byb3BdICE9PSBwcm90b1twcm9wXSAmJiAhXy5jb250YWlucyhrZXlzLCBwcm9wKSkge1xuICAgICAgICBrZXlzLnB1c2gocHJvcCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gUmV0cmlldmUgdGhlIG5hbWVzIG9mIGFuIG9iamVjdCdzIG93biBwcm9wZXJ0aWVzLlxuICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgT2JqZWN0LmtleXNgXG4gIF8ua2V5cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gW107XG4gICAgaWYgKG5hdGl2ZUtleXMpIHJldHVybiBuYXRpdmVLZXlzKG9iaik7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSBpZiAoXy5oYXMob2JqLCBrZXkpKSBrZXlzLnB1c2goa2V5KTtcbiAgICAvLyBBaGVtLCBJRSA8IDkuXG4gICAgaWYgKGhhc0VudW1CdWcpIGNvbGxlY3ROb25FbnVtUHJvcHMob2JqLCBrZXlzKTtcbiAgICByZXR1cm4ga2V5cztcbiAgfTtcblxuICAvLyBSZXRyaWV2ZSBhbGwgdGhlIHByb3BlcnR5IG5hbWVzIG9mIGFuIG9iamVjdC5cbiAgXy5hbGxLZXlzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KG9iaikpIHJldHVybiBbXTtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIGtleXMucHVzaChrZXkpO1xuICAgIC8vIEFoZW0sIElFIDwgOS5cbiAgICBpZiAoaGFzRW51bUJ1ZykgY29sbGVjdE5vbkVudW1Qcm9wcyhvYmosIGtleXMpO1xuICAgIHJldHVybiBrZXlzO1xuICB9O1xuXG4gIC8vIFJldHJpZXZlIHRoZSB2YWx1ZXMgb2YgYW4gb2JqZWN0J3MgcHJvcGVydGllcy5cbiAgXy52YWx1ZXMgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopO1xuICAgIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgdmFsdWVzID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZXNbaV0gPSBvYmpba2V5c1tpXV07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH07XG5cbiAgLy8gUmV0dXJucyB0aGUgcmVzdWx0cyBvZiBhcHBseWluZyB0aGUgaXRlcmF0ZWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBvYmplY3RcbiAgLy8gSW4gY29udHJhc3QgdG8gXy5tYXAgaXQgcmV0dXJucyBhbiBvYmplY3RcbiAgXy5tYXBPYmplY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSAgXy5rZXlzKG9iaiksXG4gICAgICAgICAgbGVuZ3RoID0ga2V5cy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0cyA9IHt9LFxuICAgICAgICAgIGN1cnJlbnRLZXk7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGN1cnJlbnRLZXkgPSBrZXlzW2luZGV4XTtcbiAgICAgICAgcmVzdWx0c1tjdXJyZW50S2V5XSA9IGl0ZXJhdGVlKG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIC8vIENvbnZlcnQgYW4gb2JqZWN0IGludG8gYSBsaXN0IG9mIGBba2V5LCB2YWx1ZV1gIHBhaXJzLlxuICBfLnBhaXJzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIHBhaXJzID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBwYWlyc1tpXSA9IFtrZXlzW2ldLCBvYmpba2V5c1tpXV1dO1xuICAgIH1cbiAgICByZXR1cm4gcGFpcnM7XG4gIH07XG5cbiAgLy8gSW52ZXJ0IHRoZSBrZXlzIGFuZCB2YWx1ZXMgb2YgYW4gb2JqZWN0LiBUaGUgdmFsdWVzIG11c3QgYmUgc2VyaWFsaXphYmxlLlxuICBfLmludmVydCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN1bHRbb2JqW2tleXNbaV1dXSA9IGtleXNbaV07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgc29ydGVkIGxpc3Qgb2YgdGhlIGZ1bmN0aW9uIG5hbWVzIGF2YWlsYWJsZSBvbiB0aGUgb2JqZWN0LlxuICAvLyBBbGlhc2VkIGFzIGBtZXRob2RzYFxuICBfLmZ1bmN0aW9ucyA9IF8ubWV0aG9kcyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBuYW1lcyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmIChfLmlzRnVuY3Rpb24ob2JqW2tleV0pKSBuYW1lcy5wdXNoKGtleSk7XG4gICAgfVxuICAgIHJldHVybiBuYW1lcy5zb3J0KCk7XG4gIH07XG5cbiAgLy8gRXh0ZW5kIGEgZ2l2ZW4gb2JqZWN0IHdpdGggYWxsIHRoZSBwcm9wZXJ0aWVzIGluIHBhc3NlZC1pbiBvYmplY3QocykuXG4gIF8uZXh0ZW5kID0gY3JlYXRlQXNzaWduZXIoXy5hbGxLZXlzKTtcblxuICAvLyBBc3NpZ25zIGEgZ2l2ZW4gb2JqZWN0IHdpdGggYWxsIHRoZSBvd24gcHJvcGVydGllcyBpbiB0aGUgcGFzc2VkLWluIG9iamVjdChzKVxuICAvLyAoaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnbilcbiAgXy5leHRlbmRPd24gPSBfLmFzc2lnbiA9IGNyZWF0ZUFzc2lnbmVyKF8ua2V5cyk7XG5cbiAgLy8gUmV0dXJucyB0aGUgZmlyc3Qga2V5IG9uIGFuIG9iamVjdCB0aGF0IHBhc3NlcyBhIHByZWRpY2F0ZSB0ZXN0XG4gIF8uZmluZEtleSA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopLCBrZXk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICBpZiAocHJlZGljYXRlKG9ialtrZXldLCBrZXksIG9iaikpIHJldHVybiBrZXk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJldHVybiBhIGNvcHkgb2YgdGhlIG9iamVjdCBvbmx5IGNvbnRhaW5pbmcgdGhlIHdoaXRlbGlzdGVkIHByb3BlcnRpZXMuXG4gIF8ucGljayA9IGZ1bmN0aW9uKG9iamVjdCwgb2l0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdCA9IHt9LCBvYmogPSBvYmplY3QsIGl0ZXJhdGVlLCBrZXlzO1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHJlc3VsdDtcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKG9pdGVyYXRlZSkpIHtcbiAgICAgIGtleXMgPSBfLmFsbEtleXMob2JqKTtcbiAgICAgIGl0ZXJhdGVlID0gb3B0aW1pemVDYihvaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrZXlzID0gZmxhdHRlbihhcmd1bWVudHMsIGZhbHNlLCBmYWxzZSwgMSk7XG4gICAgICBpdGVyYXRlZSA9IGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iaikgeyByZXR1cm4ga2V5IGluIG9iajsgfTtcbiAgICAgIG9iaiA9IE9iamVjdChvYmopO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICB2YXIgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgIGlmIChpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmopKSByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gICAvLyBSZXR1cm4gYSBjb3B5IG9mIHRoZSBvYmplY3Qgd2l0aG91dCB0aGUgYmxhY2tsaXN0ZWQgcHJvcGVydGllcy5cbiAgXy5vbWl0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGlmIChfLmlzRnVuY3Rpb24oaXRlcmF0ZWUpKSB7XG4gICAgICBpdGVyYXRlZSA9IF8ubmVnYXRlKGl0ZXJhdGVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGtleXMgPSBfLm1hcChmbGF0dGVuKGFyZ3VtZW50cywgZmFsc2UsIGZhbHNlLCAxKSwgU3RyaW5nKTtcbiAgICAgIGl0ZXJhdGVlID0gZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICByZXR1cm4gIV8uY29udGFpbnMoa2V5cywga2V5KTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBfLnBpY2sob2JqLCBpdGVyYXRlZSwgY29udGV4dCk7XG4gIH07XG5cbiAgLy8gRmlsbCBpbiBhIGdpdmVuIG9iamVjdCB3aXRoIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgXy5kZWZhdWx0cyA9IGNyZWF0ZUFzc2lnbmVyKF8uYWxsS2V5cywgdHJ1ZSk7XG5cbiAgLy8gQ3JlYXRlIGEgKHNoYWxsb3ctY2xvbmVkKSBkdXBsaWNhdGUgb2YgYW4gb2JqZWN0LlxuICBfLmNsb25lID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KG9iaikpIHJldHVybiBvYmo7XG4gICAgcmV0dXJuIF8uaXNBcnJheShvYmopID8gb2JqLnNsaWNlKCkgOiBfLmV4dGVuZCh7fSwgb2JqKTtcbiAgfTtcblxuICAvLyBJbnZva2VzIGludGVyY2VwdG9yIHdpdGggdGhlIG9iaiwgYW5kIHRoZW4gcmV0dXJucyBvYmouXG4gIC8vIFRoZSBwcmltYXJ5IHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gXCJ0YXAgaW50b1wiIGEgbWV0aG9kIGNoYWluLCBpblxuICAvLyBvcmRlciB0byBwZXJmb3JtIG9wZXJhdGlvbnMgb24gaW50ZXJtZWRpYXRlIHJlc3VsdHMgd2l0aGluIHRoZSBjaGFpbi5cbiAgXy50YXAgPSBmdW5jdGlvbihvYmosIGludGVyY2VwdG9yKSB7XG4gICAgaW50ZXJjZXB0b3Iob2JqKTtcbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIFJldHVybnMgd2hldGhlciBhbiBvYmplY3QgaGFzIGEgZ2l2ZW4gc2V0IG9mIGBrZXk6dmFsdWVgIHBhaXJzLlxuICBfLmlzTWF0Y2ggPSBmdW5jdGlvbihvYmplY3QsIGF0dHJzKSB7XG4gICAgdmFyIGtleXMgPSBfLmtleXMoYXR0cnMpLCBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICBpZiAob2JqZWN0ID09IG51bGwpIHJldHVybiAhbGVuZ3RoO1xuICAgIHZhciBvYmogPSBPYmplY3Qob2JqZWN0KTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgIGlmIChhdHRyc1trZXldICE9PSBvYmpba2V5XSB8fCAhKGtleSBpbiBvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG5cbiAgLy8gSW50ZXJuYWwgcmVjdXJzaXZlIGNvbXBhcmlzb24gZnVuY3Rpb24gZm9yIGBpc0VxdWFsYC5cbiAgdmFyIGVxID0gZnVuY3Rpb24oYSwgYiwgYVN0YWNrLCBiU3RhY2spIHtcbiAgICAvLyBJZGVudGljYWwgb2JqZWN0cyBhcmUgZXF1YWwuIGAwID09PSAtMGAsIGJ1dCB0aGV5IGFyZW4ndCBpZGVudGljYWwuXG4gICAgLy8gU2VlIHRoZSBbSGFybW9ueSBgZWdhbGAgcHJvcG9zYWxdKGh0dHA6Ly93aWtpLmVjbWFzY3JpcHQub3JnL2Rva3UucGhwP2lkPWhhcm1vbnk6ZWdhbCkuXG4gICAgaWYgKGEgPT09IGIpIHJldHVybiBhICE9PSAwIHx8IDEgLyBhID09PSAxIC8gYjtcbiAgICAvLyBBIHN0cmljdCBjb21wYXJpc29uIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIGBudWxsID09IHVuZGVmaW5lZGAuXG4gICAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpIHJldHVybiBhID09PSBiO1xuICAgIC8vIFVud3JhcCBhbnkgd3JhcHBlZCBvYmplY3RzLlxuICAgIGlmIChhIGluc3RhbmNlb2YgXykgYSA9IGEuX3dyYXBwZWQ7XG4gICAgaWYgKGIgaW5zdGFuY2VvZiBfKSBiID0gYi5fd3JhcHBlZDtcbiAgICAvLyBDb21wYXJlIGBbW0NsYXNzXV1gIG5hbWVzLlxuICAgIHZhciBjbGFzc05hbWUgPSB0b1N0cmluZy5jYWxsKGEpO1xuICAgIGlmIChjbGFzc05hbWUgIT09IHRvU3RyaW5nLmNhbGwoYikpIHJldHVybiBmYWxzZTtcbiAgICBzd2l0Y2ggKGNsYXNzTmFtZSkge1xuICAgICAgLy8gU3RyaW5ncywgbnVtYmVycywgcmVndWxhciBleHByZXNzaW9ucywgZGF0ZXMsIGFuZCBib29sZWFucyBhcmUgY29tcGFyZWQgYnkgdmFsdWUuXG4gICAgICBjYXNlICdbb2JqZWN0IFJlZ0V4cF0nOlxuICAgICAgLy8gUmVnRXhwcyBhcmUgY29lcmNlZCB0byBzdHJpbmdzIGZvciBjb21wYXJpc29uIChOb3RlOiAnJyArIC9hL2kgPT09ICcvYS9pJylcbiAgICAgIGNhc2UgJ1tvYmplY3QgU3RyaW5nXSc6XG4gICAgICAgIC8vIFByaW1pdGl2ZXMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgb2JqZWN0IHdyYXBwZXJzIGFyZSBlcXVpdmFsZW50OyB0aHVzLCBgXCI1XCJgIGlzXG4gICAgICAgIC8vIGVxdWl2YWxlbnQgdG8gYG5ldyBTdHJpbmcoXCI1XCIpYC5cbiAgICAgICAgcmV0dXJuICcnICsgYSA9PT0gJycgKyBiO1xuICAgICAgY2FzZSAnW29iamVjdCBOdW1iZXJdJzpcbiAgICAgICAgLy8gYE5hTmBzIGFyZSBlcXVpdmFsZW50LCBidXQgbm9uLXJlZmxleGl2ZS5cbiAgICAgICAgLy8gT2JqZWN0KE5hTikgaXMgZXF1aXZhbGVudCB0byBOYU5cbiAgICAgICAgaWYgKCthICE9PSArYSkgcmV0dXJuICtiICE9PSArYjtcbiAgICAgICAgLy8gQW4gYGVnYWxgIGNvbXBhcmlzb24gaXMgcGVyZm9ybWVkIGZvciBvdGhlciBudW1lcmljIHZhbHVlcy5cbiAgICAgICAgcmV0dXJuICthID09PSAwID8gMSAvICthID09PSAxIC8gYiA6ICthID09PSArYjtcbiAgICAgIGNhc2UgJ1tvYmplY3QgRGF0ZV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBCb29sZWFuXSc6XG4gICAgICAgIC8vIENvZXJjZSBkYXRlcyBhbmQgYm9vbGVhbnMgdG8gbnVtZXJpYyBwcmltaXRpdmUgdmFsdWVzLiBEYXRlcyBhcmUgY29tcGFyZWQgYnkgdGhlaXJcbiAgICAgICAgLy8gbWlsbGlzZWNvbmQgcmVwcmVzZW50YXRpb25zLiBOb3RlIHRoYXQgaW52YWxpZCBkYXRlcyB3aXRoIG1pbGxpc2Vjb25kIHJlcHJlc2VudGF0aW9uc1xuICAgICAgICAvLyBvZiBgTmFOYCBhcmUgbm90IGVxdWl2YWxlbnQuXG4gICAgICAgIHJldHVybiArYSA9PT0gK2I7XG4gICAgfVxuXG4gICAgdmFyIGFyZUFycmF5cyA9IGNsYXNzTmFtZSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICBpZiAoIWFyZUFycmF5cykge1xuICAgICAgaWYgKHR5cGVvZiBhICE9ICdvYmplY3QnIHx8IHR5cGVvZiBiICE9ICdvYmplY3QnKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIC8vIE9iamVjdHMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1aXZhbGVudCwgYnV0IGBPYmplY3RgcyBvciBgQXJyYXlgc1xuICAgICAgLy8gZnJvbSBkaWZmZXJlbnQgZnJhbWVzIGFyZS5cbiAgICAgIHZhciBhQ3RvciA9IGEuY29uc3RydWN0b3IsIGJDdG9yID0gYi5jb25zdHJ1Y3RvcjtcbiAgICAgIGlmIChhQ3RvciAhPT0gYkN0b3IgJiYgIShfLmlzRnVuY3Rpb24oYUN0b3IpICYmIGFDdG9yIGluc3RhbmNlb2YgYUN0b3IgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmlzRnVuY3Rpb24oYkN0b3IpICYmIGJDdG9yIGluc3RhbmNlb2YgYkN0b3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICYmICgnY29uc3RydWN0b3InIGluIGEgJiYgJ2NvbnN0cnVjdG9yJyBpbiBiKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIEFzc3VtZSBlcXVhbGl0eSBmb3IgY3ljbGljIHN0cnVjdHVyZXMuIFRoZSBhbGdvcml0aG0gZm9yIGRldGVjdGluZyBjeWNsaWNcbiAgICAvLyBzdHJ1Y3R1cmVzIGlzIGFkYXB0ZWQgZnJvbSBFUyA1LjEgc2VjdGlvbiAxNS4xMi4zLCBhYnN0cmFjdCBvcGVyYXRpb24gYEpPYC5cbiAgICBcbiAgICAvLyBJbml0aWFsaXppbmcgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgLy8gSXQncyBkb25lIGhlcmUgc2luY2Ugd2Ugb25seSBuZWVkIHRoZW0gZm9yIG9iamVjdHMgYW5kIGFycmF5cyBjb21wYXJpc29uLlxuICAgIGFTdGFjayA9IGFTdGFjayB8fCBbXTtcbiAgICBiU3RhY2sgPSBiU3RhY2sgfHwgW107XG4gICAgdmFyIGxlbmd0aCA9IGFTdGFjay5sZW5ndGg7XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAvLyBMaW5lYXIgc2VhcmNoLiBQZXJmb3JtYW5jZSBpcyBpbnZlcnNlbHkgcHJvcG9ydGlvbmFsIHRvIHRoZSBudW1iZXIgb2ZcbiAgICAgIC8vIHVuaXF1ZSBuZXN0ZWQgc3RydWN0dXJlcy5cbiAgICAgIGlmIChhU3RhY2tbbGVuZ3RoXSA9PT0gYSkgcmV0dXJuIGJTdGFja1tsZW5ndGhdID09PSBiO1xuICAgIH1cblxuICAgIC8vIEFkZCB0aGUgZmlyc3Qgb2JqZWN0IHRvIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICBhU3RhY2sucHVzaChhKTtcbiAgICBiU3RhY2sucHVzaChiKTtcblxuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyBhbmQgYXJyYXlzLlxuICAgIGlmIChhcmVBcnJheXMpIHtcbiAgICAgIC8vIENvbXBhcmUgYXJyYXkgbGVuZ3RocyB0byBkZXRlcm1pbmUgaWYgYSBkZWVwIGNvbXBhcmlzb24gaXMgbmVjZXNzYXJ5LlxuICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoICE9PSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgLy8gRGVlcCBjb21wYXJlIHRoZSBjb250ZW50cywgaWdub3Jpbmcgbm9uLW51bWVyaWMgcHJvcGVydGllcy5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBpZiAoIWVxKGFbbGVuZ3RoXSwgYltsZW5ndGhdLCBhU3RhY2ssIGJTdGFjaykpIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRGVlcCBjb21wYXJlIG9iamVjdHMuXG4gICAgICB2YXIga2V5cyA9IF8ua2V5cyhhKSwga2V5O1xuICAgICAgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgICAvLyBFbnN1cmUgdGhhdCBib3RoIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBudW1iZXIgb2YgcHJvcGVydGllcyBiZWZvcmUgY29tcGFyaW5nIGRlZXAgZXF1YWxpdHkuXG4gICAgICBpZiAoXy5rZXlzKGIpLmxlbmd0aCAhPT0gbGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgLy8gRGVlcCBjb21wYXJlIGVhY2ggbWVtYmVyXG4gICAgICAgIGtleSA9IGtleXNbbGVuZ3RoXTtcbiAgICAgICAgaWYgKCEoXy5oYXMoYiwga2V5KSAmJiBlcShhW2tleV0sIGJba2V5XSwgYVN0YWNrLCBiU3RhY2spKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBSZW1vdmUgdGhlIGZpcnN0IG9iamVjdCBmcm9tIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICBhU3RhY2sucG9wKCk7XG4gICAgYlN0YWNrLnBvcCgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIFBlcmZvcm0gYSBkZWVwIGNvbXBhcmlzb24gdG8gY2hlY2sgaWYgdHdvIG9iamVjdHMgYXJlIGVxdWFsLlxuICBfLmlzRXF1YWwgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGVxKGEsIGIpO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gYXJyYXksIHN0cmluZywgb3Igb2JqZWN0IGVtcHR5P1xuICAvLyBBbiBcImVtcHR5XCIgb2JqZWN0IGhhcyBubyBlbnVtZXJhYmxlIG93bi1wcm9wZXJ0aWVzLlxuICBfLmlzRW1wdHkgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiB0cnVlO1xuICAgIGlmIChpc0FycmF5TGlrZShvYmopICYmIChfLmlzQXJyYXkob2JqKSB8fCBfLmlzU3RyaW5nKG9iaikgfHwgXy5pc0FyZ3VtZW50cyhvYmopKSkgcmV0dXJuIG9iai5sZW5ndGggPT09IDA7XG4gICAgcmV0dXJuIF8ua2V5cyhvYmopLmxlbmd0aCA9PT0gMDtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgRE9NIGVsZW1lbnQ/XG4gIF8uaXNFbGVtZW50ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuICEhKG9iaiAmJiBvYmoubm9kZVR5cGUgPT09IDEpO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYW4gYXJyYXk/XG4gIC8vIERlbGVnYXRlcyB0byBFQ01BNSdzIG5hdGl2ZSBBcnJheS5pc0FycmF5XG4gIF8uaXNBcnJheSA9IG5hdGl2ZUlzQXJyYXkgfHwgZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhcmlhYmxlIGFuIG9iamVjdD9cbiAgXy5pc09iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciB0eXBlID0gdHlwZW9mIG9iajtcbiAgICByZXR1cm4gdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlID09PSAnb2JqZWN0JyAmJiAhIW9iajtcbiAgfTtcblxuICAvLyBBZGQgc29tZSBpc1R5cGUgbWV0aG9kczogaXNBcmd1bWVudHMsIGlzRnVuY3Rpb24sIGlzU3RyaW5nLCBpc051bWJlciwgaXNEYXRlLCBpc1JlZ0V4cCwgaXNFcnJvci5cbiAgXy5lYWNoKFsnQXJndW1lbnRzJywgJ0Z1bmN0aW9uJywgJ1N0cmluZycsICdOdW1iZXInLCAnRGF0ZScsICdSZWdFeHAnLCAnRXJyb3InXSwgZnVuY3Rpb24obmFtZSkge1xuICAgIF9bJ2lzJyArIG5hbWVdID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCAnICsgbmFtZSArICddJztcbiAgICB9O1xuICB9KTtcblxuICAvLyBEZWZpbmUgYSBmYWxsYmFjayB2ZXJzaW9uIG9mIHRoZSBtZXRob2QgaW4gYnJvd3NlcnMgKGFoZW0sIElFIDwgOSksIHdoZXJlXG4gIC8vIHRoZXJlIGlzbid0IGFueSBpbnNwZWN0YWJsZSBcIkFyZ3VtZW50c1wiIHR5cGUuXG4gIGlmICghXy5pc0FyZ3VtZW50cyhhcmd1bWVudHMpKSB7XG4gICAgXy5pc0FyZ3VtZW50cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIF8uaGFzKG9iaiwgJ2NhbGxlZScpO1xuICAgIH07XG4gIH1cblxuICAvLyBPcHRpbWl6ZSBgaXNGdW5jdGlvbmAgaWYgYXBwcm9wcmlhdGUuIFdvcmsgYXJvdW5kIHNvbWUgdHlwZW9mIGJ1Z3MgaW4gb2xkIHY4LFxuICAvLyBJRSAxMSAoIzE2MjEpLCBhbmQgaW4gU2FmYXJpIDggKCMxOTI5KS5cbiAgaWYgKHR5cGVvZiAvLi8gIT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgSW50OEFycmF5ICE9ICdvYmplY3QnKSB7XG4gICAgXy5pc0Z1bmN0aW9uID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PSAnZnVuY3Rpb24nIHx8IGZhbHNlO1xuICAgIH07XG4gIH1cblxuICAvLyBJcyBhIGdpdmVuIG9iamVjdCBhIGZpbml0ZSBudW1iZXI/XG4gIF8uaXNGaW5pdGUgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gaXNGaW5pdGUob2JqKSAmJiAhaXNOYU4ocGFyc2VGbG9hdChvYmopKTtcbiAgfTtcblxuICAvLyBJcyB0aGUgZ2l2ZW4gdmFsdWUgYE5hTmA/IChOYU4gaXMgdGhlIG9ubHkgbnVtYmVyIHdoaWNoIGRvZXMgbm90IGVxdWFsIGl0c2VsZikuXG4gIF8uaXNOYU4gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gXy5pc051bWJlcihvYmopICYmIG9iaiAhPT0gK29iajtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgYm9vbGVhbj9cbiAgXy5pc0Jvb2xlYW4gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSB0cnVlIHx8IG9iaiA9PT0gZmFsc2UgfHwgdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBCb29sZWFuXSc7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBlcXVhbCB0byBudWxsP1xuICBfLmlzTnVsbCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IG51bGw7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YXJpYWJsZSB1bmRlZmluZWQ/XG4gIF8uaXNVbmRlZmluZWQgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSB2b2lkIDA7XG4gIH07XG5cbiAgLy8gU2hvcnRjdXQgZnVuY3Rpb24gZm9yIGNoZWNraW5nIGlmIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBwcm9wZXJ0eSBkaXJlY3RseVxuICAvLyBvbiBpdHNlbGYgKGluIG90aGVyIHdvcmRzLCBub3Qgb24gYSBwcm90b3R5cGUpLlxuICBfLmhhcyA9IGZ1bmN0aW9uKG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIG9iaiAhPSBudWxsICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xuICB9O1xuXG4gIC8vIFV0aWxpdHkgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gUnVuIFVuZGVyc2NvcmUuanMgaW4gKm5vQ29uZmxpY3QqIG1vZGUsIHJldHVybmluZyB0aGUgYF9gIHZhcmlhYmxlIHRvIGl0c1xuICAvLyBwcmV2aW91cyBvd25lci4gUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QuXG4gIF8ubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgIHJvb3QuXyA9IHByZXZpb3VzVW5kZXJzY29yZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvLyBLZWVwIHRoZSBpZGVudGl0eSBmdW5jdGlvbiBhcm91bmQgZm9yIGRlZmF1bHQgaXRlcmF0ZWVzLlxuICBfLmlkZW50aXR5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgLy8gUHJlZGljYXRlLWdlbmVyYXRpbmcgZnVuY3Rpb25zLiBPZnRlbiB1c2VmdWwgb3V0c2lkZSBvZiBVbmRlcnNjb3JlLlxuICBfLmNvbnN0YW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgfTtcblxuICBfLm5vb3AgPSBmdW5jdGlvbigpe307XG5cbiAgXy5wcm9wZXJ0eSA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogPT0gbnVsbCA/IHZvaWQgMCA6IG9ialtrZXldO1xuICAgIH07XG4gIH07XG5cbiAgLy8gR2VuZXJhdGVzIGEgZnVuY3Rpb24gZm9yIGEgZ2l2ZW4gb2JqZWN0IHRoYXQgcmV0dXJucyBhIGdpdmVuIHByb3BlcnR5LlxuICBfLnByb3BlcnR5T2YgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09IG51bGwgPyBmdW5jdGlvbigpe30gOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmpba2V5XTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBwcmVkaWNhdGUgZm9yIGNoZWNraW5nIHdoZXRoZXIgYW4gb2JqZWN0IGhhcyBhIGdpdmVuIHNldCBvZiBcbiAgLy8gYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8ubWF0Y2hlciA9IF8ubWF0Y2hlcyA9IGZ1bmN0aW9uKGF0dHJzKSB7XG4gICAgYXR0cnMgPSBfLmV4dGVuZE93bih7fSwgYXR0cnMpO1xuICAgIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBfLmlzTWF0Y2gob2JqLCBhdHRycyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSdW4gYSBmdW5jdGlvbiAqKm4qKiB0aW1lcy5cbiAgXy50aW1lcyA9IGZ1bmN0aW9uKG4sIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIGFjY3VtID0gQXJyYXkoTWF0aC5tYXgoMCwgbikpO1xuICAgIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwgY29udGV4dCwgMSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIGFjY3VtW2ldID0gaXRlcmF0ZWUoaSk7XG4gICAgcmV0dXJuIGFjY3VtO1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gbWluIGFuZCBtYXggKGluY2x1c2l2ZSkuXG4gIF8ucmFuZG9tID0gZnVuY3Rpb24obWluLCBtYXgpIHtcbiAgICBpZiAobWF4ID09IG51bGwpIHtcbiAgICAgIG1heCA9IG1pbjtcbiAgICAgIG1pbiA9IDA7XG4gICAgfVxuICAgIHJldHVybiBtaW4gKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpO1xuICB9O1xuXG4gIC8vIEEgKHBvc3NpYmx5IGZhc3Rlcikgd2F5IHRvIGdldCB0aGUgY3VycmVudCB0aW1lc3RhbXAgYXMgYW4gaW50ZWdlci5cbiAgXy5ub3cgPSBEYXRlLm5vdyB8fCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH07XG5cbiAgIC8vIExpc3Qgb2YgSFRNTCBlbnRpdGllcyBmb3IgZXNjYXBpbmcuXG4gIHZhciBlc2NhcGVNYXAgPSB7XG4gICAgJyYnOiAnJmFtcDsnLFxuICAgICc8JzogJyZsdDsnLFxuICAgICc+JzogJyZndDsnLFxuICAgICdcIic6ICcmcXVvdDsnLFxuICAgIFwiJ1wiOiAnJiN4Mjc7JyxcbiAgICAnYCc6ICcmI3g2MDsnXG4gIH07XG4gIHZhciB1bmVzY2FwZU1hcCA9IF8uaW52ZXJ0KGVzY2FwZU1hcCk7XG5cbiAgLy8gRnVuY3Rpb25zIGZvciBlc2NhcGluZyBhbmQgdW5lc2NhcGluZyBzdHJpbmdzIHRvL2Zyb20gSFRNTCBpbnRlcnBvbGF0aW9uLlxuICB2YXIgY3JlYXRlRXNjYXBlciA9IGZ1bmN0aW9uKG1hcCkge1xuICAgIHZhciBlc2NhcGVyID0gZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgIHJldHVybiBtYXBbbWF0Y2hdO1xuICAgIH07XG4gICAgLy8gUmVnZXhlcyBmb3IgaWRlbnRpZnlpbmcgYSBrZXkgdGhhdCBuZWVkcyB0byBiZSBlc2NhcGVkXG4gICAgdmFyIHNvdXJjZSA9ICcoPzonICsgXy5rZXlzKG1hcCkuam9pbignfCcpICsgJyknO1xuICAgIHZhciB0ZXN0UmVnZXhwID0gUmVnRXhwKHNvdXJjZSk7XG4gICAgdmFyIHJlcGxhY2VSZWdleHAgPSBSZWdFeHAoc291cmNlLCAnZycpO1xuICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHN0cmluZyA9PSBudWxsID8gJycgOiAnJyArIHN0cmluZztcbiAgICAgIHJldHVybiB0ZXN0UmVnZXhwLnRlc3Qoc3RyaW5nKSA/IHN0cmluZy5yZXBsYWNlKHJlcGxhY2VSZWdleHAsIGVzY2FwZXIpIDogc3RyaW5nO1xuICAgIH07XG4gIH07XG4gIF8uZXNjYXBlID0gY3JlYXRlRXNjYXBlcihlc2NhcGVNYXApO1xuICBfLnVuZXNjYXBlID0gY3JlYXRlRXNjYXBlcih1bmVzY2FwZU1hcCk7XG5cbiAgLy8gSWYgdGhlIHZhbHVlIG9mIHRoZSBuYW1lZCBgcHJvcGVydHlgIGlzIGEgZnVuY3Rpb24gdGhlbiBpbnZva2UgaXQgd2l0aCB0aGVcbiAgLy8gYG9iamVjdGAgYXMgY29udGV4dDsgb3RoZXJ3aXNlLCByZXR1cm4gaXQuXG4gIF8ucmVzdWx0ID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSwgZmFsbGJhY2spIHtcbiAgICB2YXIgdmFsdWUgPSBvYmplY3QgPT0gbnVsbCA/IHZvaWQgMCA6IG9iamVjdFtwcm9wZXJ0eV07XG4gICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgIHZhbHVlID0gZmFsbGJhY2s7XG4gICAgfVxuICAgIHJldHVybiBfLmlzRnVuY3Rpb24odmFsdWUpID8gdmFsdWUuY2FsbChvYmplY3QpIDogdmFsdWU7XG4gIH07XG5cbiAgLy8gR2VuZXJhdGUgYSB1bmlxdWUgaW50ZWdlciBpZCAodW5pcXVlIHdpdGhpbiB0aGUgZW50aXJlIGNsaWVudCBzZXNzaW9uKS5cbiAgLy8gVXNlZnVsIGZvciB0ZW1wb3JhcnkgRE9NIGlkcy5cbiAgdmFyIGlkQ291bnRlciA9IDA7XG4gIF8udW5pcXVlSWQgPSBmdW5jdGlvbihwcmVmaXgpIHtcbiAgICB2YXIgaWQgPSArK2lkQ291bnRlciArICcnO1xuICAgIHJldHVybiBwcmVmaXggPyBwcmVmaXggKyBpZCA6IGlkO1xuICB9O1xuXG4gIC8vIEJ5IGRlZmF1bHQsIFVuZGVyc2NvcmUgdXNlcyBFUkItc3R5bGUgdGVtcGxhdGUgZGVsaW1pdGVycywgY2hhbmdlIHRoZVxuICAvLyBmb2xsb3dpbmcgdGVtcGxhdGUgc2V0dGluZ3MgdG8gdXNlIGFsdGVybmF0aXZlIGRlbGltaXRlcnMuXG4gIF8udGVtcGxhdGVTZXR0aW5ncyA9IHtcbiAgICBldmFsdWF0ZSAgICA6IC88JShbXFxzXFxTXSs/KSU+L2csXG4gICAgaW50ZXJwb2xhdGUgOiAvPCU9KFtcXHNcXFNdKz8pJT4vZyxcbiAgICBlc2NhcGUgICAgICA6IC88JS0oW1xcc1xcU10rPyklPi9nXG4gIH07XG5cbiAgLy8gV2hlbiBjdXN0b21pemluZyBgdGVtcGxhdGVTZXR0aW5nc2AsIGlmIHlvdSBkb24ndCB3YW50IHRvIGRlZmluZSBhblxuICAvLyBpbnRlcnBvbGF0aW9uLCBldmFsdWF0aW9uIG9yIGVzY2FwaW5nIHJlZ2V4LCB3ZSBuZWVkIG9uZSB0aGF0IGlzXG4gIC8vIGd1YXJhbnRlZWQgbm90IHRvIG1hdGNoLlxuICB2YXIgbm9NYXRjaCA9IC8oLileLztcblxuICAvLyBDZXJ0YWluIGNoYXJhY3RlcnMgbmVlZCB0byBiZSBlc2NhcGVkIHNvIHRoYXQgdGhleSBjYW4gYmUgcHV0IGludG8gYVxuICAvLyBzdHJpbmcgbGl0ZXJhbC5cbiAgdmFyIGVzY2FwZXMgPSB7XG4gICAgXCInXCI6ICAgICAgXCInXCIsXG4gICAgJ1xcXFwnOiAgICAgJ1xcXFwnLFxuICAgICdcXHInOiAgICAgJ3InLFxuICAgICdcXG4nOiAgICAgJ24nLFxuICAgICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgICAnXFx1MjAyOSc6ICd1MjAyOSdcbiAgfTtcblxuICB2YXIgZXNjYXBlciA9IC9cXFxcfCd8XFxyfFxcbnxcXHUyMDI4fFxcdTIwMjkvZztcblxuICB2YXIgZXNjYXBlQ2hhciA9IGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgcmV0dXJuICdcXFxcJyArIGVzY2FwZXNbbWF0Y2hdO1xuICB9O1xuXG4gIC8vIEphdmFTY3JpcHQgbWljcm8tdGVtcGxhdGluZywgc2ltaWxhciB0byBKb2huIFJlc2lnJ3MgaW1wbGVtZW50YXRpb24uXG4gIC8vIFVuZGVyc2NvcmUgdGVtcGxhdGluZyBoYW5kbGVzIGFyYml0cmFyeSBkZWxpbWl0ZXJzLCBwcmVzZXJ2ZXMgd2hpdGVzcGFjZSxcbiAgLy8gYW5kIGNvcnJlY3RseSBlc2NhcGVzIHF1b3RlcyB3aXRoaW4gaW50ZXJwb2xhdGVkIGNvZGUuXG4gIC8vIE5COiBgb2xkU2V0dGluZ3NgIG9ubHkgZXhpc3RzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbiAgXy50ZW1wbGF0ZSA9IGZ1bmN0aW9uKHRleHQsIHNldHRpbmdzLCBvbGRTZXR0aW5ncykge1xuICAgIGlmICghc2V0dGluZ3MgJiYgb2xkU2V0dGluZ3MpIHNldHRpbmdzID0gb2xkU2V0dGluZ3M7XG4gICAgc2V0dGluZ3MgPSBfLmRlZmF1bHRzKHt9LCBzZXR0aW5ncywgXy50ZW1wbGF0ZVNldHRpbmdzKTtcblxuICAgIC8vIENvbWJpbmUgZGVsaW1pdGVycyBpbnRvIG9uZSByZWd1bGFyIGV4cHJlc3Npb24gdmlhIGFsdGVybmF0aW9uLlxuICAgIHZhciBtYXRjaGVyID0gUmVnRXhwKFtcbiAgICAgIChzZXR0aW5ncy5lc2NhcGUgfHwgbm9NYXRjaCkuc291cmNlLFxuICAgICAgKHNldHRpbmdzLmludGVycG9sYXRlIHx8IG5vTWF0Y2gpLnNvdXJjZSxcbiAgICAgIChzZXR0aW5ncy5ldmFsdWF0ZSB8fCBub01hdGNoKS5zb3VyY2VcbiAgICBdLmpvaW4oJ3wnKSArICd8JCcsICdnJyk7XG5cbiAgICAvLyBDb21waWxlIHRoZSB0ZW1wbGF0ZSBzb3VyY2UsIGVzY2FwaW5nIHN0cmluZyBsaXRlcmFscyBhcHByb3ByaWF0ZWx5LlxuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIHNvdXJjZSA9IFwiX19wKz0nXCI7XG4gICAgdGV4dC5yZXBsYWNlKG1hdGNoZXIsIGZ1bmN0aW9uKG1hdGNoLCBlc2NhcGUsIGludGVycG9sYXRlLCBldmFsdWF0ZSwgb2Zmc2V0KSB7XG4gICAgICBzb3VyY2UgKz0gdGV4dC5zbGljZShpbmRleCwgb2Zmc2V0KS5yZXBsYWNlKGVzY2FwZXIsIGVzY2FwZUNoYXIpO1xuICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG5cbiAgICAgIGlmIChlc2NhcGUpIHtcbiAgICAgICAgc291cmNlICs9IFwiJytcXG4oKF9fdD0oXCIgKyBlc2NhcGUgKyBcIikpPT1udWxsPycnOl8uZXNjYXBlKF9fdCkpK1xcbidcIjtcbiAgICAgIH0gZWxzZSBpZiAoaW50ZXJwb2xhdGUpIHtcbiAgICAgICAgc291cmNlICs9IFwiJytcXG4oKF9fdD0oXCIgKyBpbnRlcnBvbGF0ZSArIFwiKSk9PW51bGw/Jyc6X190KStcXG4nXCI7XG4gICAgICB9IGVsc2UgaWYgKGV2YWx1YXRlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIic7XFxuXCIgKyBldmFsdWF0ZSArIFwiXFxuX19wKz0nXCI7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkb2JlIFZNcyBuZWVkIHRoZSBtYXRjaCByZXR1cm5lZCB0byBwcm9kdWNlIHRoZSBjb3JyZWN0IG9mZmVzdC5cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9KTtcbiAgICBzb3VyY2UgKz0gXCInO1xcblwiO1xuXG4gICAgLy8gSWYgYSB2YXJpYWJsZSBpcyBub3Qgc3BlY2lmaWVkLCBwbGFjZSBkYXRhIHZhbHVlcyBpbiBsb2NhbCBzY29wZS5cbiAgICBpZiAoIXNldHRpbmdzLnZhcmlhYmxlKSBzb3VyY2UgPSAnd2l0aChvYmp8fHt9KXtcXG4nICsgc291cmNlICsgJ31cXG4nO1xuXG4gICAgc291cmNlID0gXCJ2YXIgX190LF9fcD0nJyxfX2o9QXJyYXkucHJvdG90eXBlLmpvaW4sXCIgK1xuICAgICAgXCJwcmludD1mdW5jdGlvbigpe19fcCs9X19qLmNhbGwoYXJndW1lbnRzLCcnKTt9O1xcblwiICtcbiAgICAgIHNvdXJjZSArICdyZXR1cm4gX19wO1xcbic7XG5cbiAgICB0cnkge1xuICAgICAgdmFyIHJlbmRlciA9IG5ldyBGdW5jdGlvbihzZXR0aW5ncy52YXJpYWJsZSB8fCAnb2JqJywgJ18nLCBzb3VyY2UpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGUuc291cmNlID0gc291cmNlO1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG5cbiAgICB2YXIgdGVtcGxhdGUgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICByZXR1cm4gcmVuZGVyLmNhbGwodGhpcywgZGF0YSwgXyk7XG4gICAgfTtcblxuICAgIC8vIFByb3ZpZGUgdGhlIGNvbXBpbGVkIHNvdXJjZSBhcyBhIGNvbnZlbmllbmNlIGZvciBwcmVjb21waWxhdGlvbi5cbiAgICB2YXIgYXJndW1lbnQgPSBzZXR0aW5ncy52YXJpYWJsZSB8fCAnb2JqJztcbiAgICB0ZW1wbGF0ZS5zb3VyY2UgPSAnZnVuY3Rpb24oJyArIGFyZ3VtZW50ICsgJyl7XFxuJyArIHNvdXJjZSArICd9JztcblxuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfTtcblxuICAvLyBBZGQgYSBcImNoYWluXCIgZnVuY3Rpb24uIFN0YXJ0IGNoYWluaW5nIGEgd3JhcHBlZCBVbmRlcnNjb3JlIG9iamVjdC5cbiAgXy5jaGFpbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBpbnN0YW5jZSA9IF8ob2JqKTtcbiAgICBpbnN0YW5jZS5fY2hhaW4gPSB0cnVlO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfTtcblxuICAvLyBPT1BcbiAgLy8gLS0tLS0tLS0tLS0tLS0tXG4gIC8vIElmIFVuZGVyc2NvcmUgaXMgY2FsbGVkIGFzIGEgZnVuY3Rpb24sIGl0IHJldHVybnMgYSB3cmFwcGVkIG9iamVjdCB0aGF0XG4gIC8vIGNhbiBiZSB1c2VkIE9PLXN0eWxlLiBUaGlzIHdyYXBwZXIgaG9sZHMgYWx0ZXJlZCB2ZXJzaW9ucyBvZiBhbGwgdGhlXG4gIC8vIHVuZGVyc2NvcmUgZnVuY3Rpb25zLiBXcmFwcGVkIG9iamVjdHMgbWF5IGJlIGNoYWluZWQuXG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNvbnRpbnVlIGNoYWluaW5nIGludGVybWVkaWF0ZSByZXN1bHRzLlxuICB2YXIgcmVzdWx0ID0gZnVuY3Rpb24oaW5zdGFuY2UsIG9iaikge1xuICAgIHJldHVybiBpbnN0YW5jZS5fY2hhaW4gPyBfKG9iaikuY2hhaW4oKSA6IG9iajtcbiAgfTtcblxuICAvLyBBZGQgeW91ciBvd24gY3VzdG9tIGZ1bmN0aW9ucyB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QuXG4gIF8ubWl4aW4gPSBmdW5jdGlvbihvYmopIHtcbiAgICBfLmVhY2goXy5mdW5jdGlvbnMob2JqKSwgZnVuY3Rpb24obmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBfW25hbWVdID0gb2JqW25hbWVdO1xuICAgICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbdGhpcy5fd3JhcHBlZF07XG4gICAgICAgIHB1c2guYXBwbHkoYXJncywgYXJndW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCh0aGlzLCBmdW5jLmFwcGx5KF8sIGFyZ3MpKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gQWRkIGFsbCBvZiB0aGUgVW5kZXJzY29yZSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIgb2JqZWN0LlxuICBfLm1peGluKF8pO1xuXG4gIC8vIEFkZCBhbGwgbXV0YXRvciBBcnJheSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIuXG4gIF8uZWFjaChbJ3BvcCcsICdwdXNoJywgJ3JldmVyc2UnLCAnc2hpZnQnLCAnc29ydCcsICdzcGxpY2UnLCAndW5zaGlmdCddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07XG4gICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvYmogPSB0aGlzLl93cmFwcGVkO1xuICAgICAgbWV0aG9kLmFwcGx5KG9iaiwgYXJndW1lbnRzKTtcbiAgICAgIGlmICgobmFtZSA9PT0gJ3NoaWZ0JyB8fCBuYW1lID09PSAnc3BsaWNlJykgJiYgb2JqLmxlbmd0aCA9PT0gMCkgZGVsZXRlIG9ialswXTtcbiAgICAgIHJldHVybiByZXN1bHQodGhpcywgb2JqKTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBBZGQgYWxsIGFjY2Vzc29yIEFycmF5IGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlci5cbiAgXy5lYWNoKFsnY29uY2F0JywgJ2pvaW4nLCAnc2xpY2UnXSwgZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciBtZXRob2QgPSBBcnJheVByb3RvW25hbWVdO1xuICAgIF8ucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcmVzdWx0KHRoaXMsIG1ldGhvZC5hcHBseSh0aGlzLl93cmFwcGVkLCBhcmd1bWVudHMpKTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBFeHRyYWN0cyB0aGUgcmVzdWx0IGZyb20gYSB3cmFwcGVkIGFuZCBjaGFpbmVkIG9iamVjdC5cbiAgXy5wcm90b3R5cGUudmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fd3JhcHBlZDtcbiAgfTtcblxuICAvLyBQcm92aWRlIHVud3JhcHBpbmcgcHJveHkgZm9yIHNvbWUgbWV0aG9kcyB1c2VkIGluIGVuZ2luZSBvcGVyYXRpb25zXG4gIC8vIHN1Y2ggYXMgYXJpdGhtZXRpYyBhbmQgSlNPTiBzdHJpbmdpZmljYXRpb24uXG4gIF8ucHJvdG90eXBlLnZhbHVlT2YgPSBfLnByb3RvdHlwZS50b0pTT04gPSBfLnByb3RvdHlwZS52YWx1ZTtcbiAgXG4gIF8ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICcnICsgdGhpcy5fd3JhcHBlZDtcbiAgfTtcblxuICAvLyBBTUQgcmVnaXN0cmF0aW9uIGhhcHBlbnMgYXQgdGhlIGVuZCBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIEFNRCBsb2FkZXJzXG4gIC8vIHRoYXQgbWF5IG5vdCBlbmZvcmNlIG5leHQtdHVybiBzZW1hbnRpY3Mgb24gbW9kdWxlcy4gRXZlbiB0aG91Z2ggZ2VuZXJhbFxuICAvLyBwcmFjdGljZSBmb3IgQU1EIHJlZ2lzdHJhdGlvbiBpcyB0byBiZSBhbm9ueW1vdXMsIHVuZGVyc2NvcmUgcmVnaXN0ZXJzXG4gIC8vIGFzIGEgbmFtZWQgbW9kdWxlIGJlY2F1c2UsIGxpa2UgalF1ZXJ5LCBpdCBpcyBhIGJhc2UgbGlicmFyeSB0aGF0IGlzXG4gIC8vIHBvcHVsYXIgZW5vdWdoIHRvIGJlIGJ1bmRsZWQgaW4gYSB0aGlyZCBwYXJ0eSBsaWIsIGJ1dCBub3QgYmUgcGFydCBvZlxuICAvLyBhbiBBTUQgbG9hZCByZXF1ZXN0LiBUaG9zZSBjYXNlcyBjb3VsZCBnZW5lcmF0ZSBhbiBlcnJvciB3aGVuIGFuXG4gIC8vIGFub255bW91cyBkZWZpbmUoKSBpcyBjYWxsZWQgb3V0c2lkZSBvZiBhIGxvYWRlciByZXF1ZXN0LlxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKCd1bmRlcnNjb3JlJywgW10sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIF87XG4gICAgfSk7XG4gIH1cbn0uY2FsbCh0aGlzKSk7XG4iLCJ2YXIgZDtcbnZhciBkZXNwbG9pbmcgPSBmYWxzZTtcbnZhciBkZXNwbG9BbmltO1xudmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNwbG9Db250YWluZXInKTtcbnZhciB1cmwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXJsJyk7XG52YXIgbG9hZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkJyk7XG5cbnZhciBjb2xvcnMgPSBbXG4gICAgJ3JlZCcsXG4gICAgJ2N5YW4nLFxuICAgICdibHVlJyxcbiAgICAnZ3JlZW4nLFxuICAgICd5ZWxsb3cnLFxuICAgICdibGFjaycsXG4gICAgJ3doaXRlJyxcbiAgICAnb3JhbmdlJyxcbiAgICAncHVycGxlJ1xuXTtcbnZhciBtID0geyB4OiAwLCB5OiAwIH07XG5cbnZhciBkQ29udGVudCA9IFtcbiAgICAnREVTUExPJyxcbiAgICAnZGVzcGxvJyxcbiAgICAnRGVTcExvJyxcbiAgICAnZEVzUGxPJyxcbiAgICAnREVTIFBMTycsXG4gICAgJ0RFUyBwbG8nLFxuICAgICdkZXMgUExPJyxcbiAgICAnZGVzcGxPJyxcbiAgICAnREVzcGxvJyxcbiAgICAnZGVTUExPJyxcbiAgICAnU1BMTyBkZXM/JyxcbiAgICAnZGVzZGVzc3BsbycsXG5dO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBmdW5jdGlvbihlKSB7XG4gICAgbS54ID0gZS5wYWdlWCAtIGNvbnRhaW5lci5vZmZzZXRMZWZ0O1xuICAgIG0ueSA9IGUucGFnZVkgLSBjb250YWluZXIub2Zmc2V0VG9wO1xufSk7XG5cbnZhciBnZXRTdHlsZSA9IGZ1bmN0aW9uKCkge1xuICBcdHZhciBzaGFkb3cgPSBfLnJhbmRvbSgtNyw3KSArICdweCAnICsgXy5yYW5kb20oLTcsNykgKyAncHggJyArIF8ucmFuZG9tKC03LDcpICsgJ3B4ICcgKyBjb2xvcnNbXy5yYW5kb20oY29sb3JzLmxlbmd0aCAtIDEpXTtcblx0cmV0dXJuIHtcblx0ICAgIGxlZnQ6IG0ueCArICdweCcsXG5cdCAgICB0b3A6IG0ueSArICdweCcsXG5cdCAgICBjb2xvcjogY29sb3JzW18ucmFuZG9tKGNvbG9ycy5sZW5ndGggLSAxKV0sXG5cdCAgICBmb250U2l6ZTogXy5yYW5kb20oNiw0MikgKyAncHgnLFxuXHQgICAgb3BhY2l0eTogTWF0aC5yYW5kb20oKSxcblx0ICAgIHRleHRTaGFkb3c6IHNoYWRvd1xuXHR9OyAgXG59O1xuXG52YXIgZGVzcGxvID0gZnVuY3Rpb24oKSB7XG4gICAgZGVzcGxvQW5pbSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKSB7XG5cdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0ZC5jbGFzc05hbWUgPSAnZGVzcGxvJztcblx0ZC5pbm5lckhUTUwgPSBkQ29udGVudFtfLnJhbmRvbShkQ29udGVudC5sZW5ndGggLSAxKV07XG5cdGQuc3R5bGUgPSBfLmV4dGVuZChkLnN0eWxlLCBnZXRTdHlsZSgpKTtcblx0Y29udGFpbmVyLmFwcGVuZENoaWxkKGQpO1xuXHRkZXNwbG8oKTtcbiAgICB9KTsgICAgXG59O1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoZS5rZXlDb2RlID09PSA2OCAmJiBkZXNwbG9BbmltKSB7XG5cdHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShkZXNwbG9BbmltKTtcblx0ZGVzcGxvaW5nID0gZmFsc2U7XG4gICAgfVxufSk7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7XG4gICAgaWYgKGUua2V5Q29kZSA9PT0gNjggJiYgIWRlc3Bsb2luZykge1xuXHRkZXNwbG9pbmcgPSB0cnVlO1xuXHRkZXNwbG8oKTtcbiAgICB9XG59KTtcblxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dldFVybCcpLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKHVybC52YWx1ZS5sZW5ndGgpIHtcblx0bG9hZC5zcmMgPSB1cmwudmFsdWU7XG4gICAgfVxufSk7XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbGVhcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG59KTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==